
  

  
  

  
  

  

  
  

  
  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      


  
  

   
   



    <!DOCTYPE html PUBLIC "-//CollabNet//DTD XHTML 1.0 Transitional//EN" "http://www.collabnet.com/dtds/collabnet_transitional_10.dtd">

    <html>
      <head>
        
        
          <title>
            BCEL - 
          BCEL FAQ
        
          </title>
        
        
        
        
        <style type="text/css">
          @import url("./style/tigris.css");
          @import url("./style/maven.css");
        </style>
        
        <link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link>
        
          <meta name="author" value="Jason van Zyl"></meta>
          <meta name="email" value="jvanzyl@zenplex.com"></meta>
        
      </head>

      <body marginwidth="0" class="composite" marginheight="0">
        <div id="banner">
          <table border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
              </td>

              
              <td>
                <div id="login" align="right">
                  
                  
                    
                    
                    
                      
                    

                    <a href="http://jakarta.apache.org/bcel/">
                      <img border="0" alt="jakarta-bcel" src="./images/bcel-logo.gif" align="right"></img>
                    </a>
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
              
              
              <td>
                <div align="right">
                  
                  
                  
                  
                    
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>BCEL</strong>
      
    <div>
      
      
      <small><a href="./index.html">Front Page</a></small>
      
    </div>
  
    <div>
      
      
      <small><a href="./news.html">News and Status</a></small>
      
    </div>
  
    <div>
      
      
      <small><a href="http://jakarta.apache.org/builds/jakarta-bcel/release/">Distributions</a></small>
      
    </div>
  
    </div>
  
    <div>
      <strong>Documentation</strong>
      
    <div>
      
      
      <small><a href="./manual.html">Manual</a></small>
      
    </div>
  
    <div>
      
      
      <small><a href="./faq.html">FAQ</a></small>
      
    </div>
  
    </div>
  
    <div>
      <strong>Get Involved</strong>
      
    <div>
      
      
      <small><a href="./projects.html">Projects</a></small>
      
    </div>
  
    </div>
  
                

                
                

                
                
                <div>
                  <strong>Project Documentation</strong>
                  <div>
                    <small>
                      <a href="./index.html">Front Page</a>
                    </small>
                  </div>
                  <div>
                    <small>
                      <a href="./project-info.html">Project Info</a>
                    </small>
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  </div>
                  <div>
                    <small>
                      <a href="./maven-reports.html">Project Reports</a>
                    </small>
                    
                      
                      
                        
                        
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                          
                        
                      
                    
                  </div>
                  
                    
                      <div>
                        <small>
                          <a href="./apidocs/index.html">JavaDocs</a>
                        </small>
                      </div>
                      <div>
                        <small>
                          <a href="./xref/index.html">Source XReference</a>
                        </small>
                      </div>
                      
                    
                  
                  
                  
                  
                  
                    <div>
                      <small>
                        
                        <a href="http://jakarta.apache.org/turbine/maven/development-process.html">Development Process</a>
                      </small>
                    </div>
                  
                </div>
              
                
              </div>
            </td>
            <td>
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="FAQ">FAQ</a>
        </h3>
      
      
    <p>
      
      
    <b>
      Q: 
    </b>
   How can I ... with BCEL?
      
    <br>
      
    </br>
   
      
    <b>
      A: 
    </b>
   Take a look at
      
    <tt>
      org.apache.bcel.util.BCELifier
    </tt>
   , it takes a given class
      and converts it to a BCEL program (in Java, of course). It will
      show you how certain code is generated using BCEL.
    
    </p>
   
    <p>
      
      
    <b>
      Q: 
    </b>
    Is the BCEL thread-safe?
      
    <br>
      
    </br>
   
      
    <b>
      A: 
    </b>
   BCEL was (deliberately) not designed for thread
      safety. See 
    <a href="http://java.sun.com/docs/books/cp/">
      
      "Concurrent Programming in Java"
    </a>
   , by Doug Lea,
      for an excellent reference on how to build thread-safe wrappers.
    
    </p>
   
    <p>
      
      
    <b>
      Q: 
    </b>
    Can I use BCEL in a commercial product?
      
    <br>
      
    </br>
   
      
    <b>
      A: 
    </b>
    Yes, this is covered by the 
    <a href="license.html">
      Apache License
    </a>
   , if you add a note about the original
      author and where to find the sources, i.e., 
      
    <a href="http://jakarta.apace.org/bcel/">
      http://jakarta.apace.org/bcel/
    </a>
   
    
    </p>
   
    <p>
      
      
    <b>
      Q: 
    </b>
    (Typically for users of Xalan (XSLTC)) I'm getting

    
    <pre>
      
    ...
    ClassGenException: Branch target offset too large for short
    
    </pre>
   

     when compiling large files.
      
    <br>
      
    </br>
   
      
    <b>
      A: 
    </b>
    The answer lies in internal limitations of the JVM,
      branch instruction like goto can not address offsets larger than
      a short integer, i.e. offsets &gt;= 32767.
    <br>
      
    </br>
   
      The solution is to split the branch into in intermediate hops,
      which the XSLTC obviously doesn't take care off.
      (In fact you could replace gotos with the goto_w instruction,
      but this wouldn't help in the other cases).
    
    </p>
   
    <p>
      
      
    <b>
      Q:
    </b>
    Can I create or modify classes dynamically with BCEL?
      
    <br>
      
    </br>
   
      
    <b>
      A:
    </b>
    BCEL contains useful classes in the
      
    <tt>
      util
    </tt>
    package, namely 
    <tt>
      ClassLoader
    </tt>
    and
       
    <tt>
      JavaWrapper
    </tt>
   . Take a look at the 
    <tt>
       ProxyCreator
    </tt>
    example.
    
    </p>
   
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" cellpadding="4" cellspacing="0">
            <tr>
              <td>
                
                  
                    
                    
                       2002-2003, Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  