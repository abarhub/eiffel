<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0103)http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget.htm -->
<HTML xmlns="http://www.w3.org/TR/REC-html40" xmlns:v = 
"urn:schemas-microsoft-com:vml" xmlns:o = 
"urn:schemas-microsoft-com:office:office" xmlns:w = 
"urn:schemas-microsoft-com:office:word"><HEAD><TITLE>Writing Your Own Widget</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content=Word.Document name=ProgId>
<META content="MSHTML 6.00.2800.1141" name=GENERATOR>
<META content="Microsoft Word 9" name=Originator><LINK 
href="./Writing%20Your%20Own%20Widget_files/filelist.xml" rel=File-List><LINK 
href="./Writing%20Your%20Own%20Widget_files/editdata.mso" 
rel=Edit-Time-Data><LINK 
href="./Writing%20Your%20Own%20Widget_files/oledata.mso" rel=OLE-Object-Data><!--[if !mso]>
<STYLE>v\:* {
	BEHAVIOR: url(#default#VML)
}
o\:* {
	BEHAVIOR: url(#default#VML)
}
w\:* {
	BEHAVIOR: url(#default#VML)
}
.shape {
	BEHAVIOR: url(#default#VML)
}
</STYLE>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>OTI EMPLOYEE</o:Author>
  <o:LastAuthor>Dave Thomson</o:LastAuthor>
  <o:Revision>12</o:Revision>
  <o:TotalTime>2064</o:TotalTime>
  <o:LastPrinted>2001-02-09T19:31:00Z</o:LastPrinted>
  <o:Created>2001-06-04T02:12:00Z</o:Created>
  <o:LastSaved>2001-06-04T18:05:00Z</o:LastSaved>
  <o:Pages>30</o:Pages>
  <o:Words>8616</o:Words>
  <o:Characters>49116</o:Characters>
  <o:Company>OBJECT TECHNOLOGY INTL</o:Company>
  <o:Lines>409</o:Lines>
  <o:Paragraphs>98</o:Paragraphs>
  <o:CharactersWithSpaces>60317</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:HideSpellingErrors/>
  <w:DoNotHyphenateCaps/>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:Compatibility>
   <w:UsePrinterMetrics/>
   <w:WW6BorderRules/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><LINK media=all 
href="Writing%20Your%20Own%20Widget_fichiers/default_style.css" type=text/css 
rel=Stylesheet>
<STYLE>@page Section1 {size: 8.5in 11.0in; margin: 1.0in 1.25in 1.0in 1.25in; mso-header-margin: .5in; mso-footer-margin: .5in; mso-title-page: yes; mso-even-footer: url("./Writing%20Your%20Own%20Widget_files/header.htm") ef1; mso-footer: url("./Writing%20Your%20Own%20Widget_files/header.htm") f1; mso-paper-source: 0; }
P.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-style-parent: ""; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
LI.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-style-parent: ""; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
DIV.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-style-parent: ""; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
H1 {
	FONT-WEIGHT: bold; FONT-SIZE: 21pt; MARGIN: 12pt 0in 3pt; COLOR: windowtext; FONT-FAMILY: Arial; mso-pagination: widow-orphan; mso-style-next: Normal; mso-outline-level: 1; mso-font-kerning: 14.0pt
}
H2 {
	FONT-WEIGHT: bold; FONT-SIZE: 18pt; MARGIN: 12pt 0in 6pt; COLOR: windowtext; FONT-FAMILY: Arial; mso-pagination: widow-orphan; mso-style-next: Normal; mso-outline-level: 2; mso-line-height-alt: 10.5pt
}
H3 {
	FONT-WEIGHT: bold; FONT-SIZE: 14pt; MARGIN: 12pt 0in 3pt; COLOR: windowtext; FONT-FAMILY: Arial; mso-pagination: widow-orphan; mso-style-next: Normal; mso-outline-level: 3
}
H4 {
	FONT-WEIGHT: normal; FONT-SIZE: 18pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-style-next: Normal; mso-outline-level: 4; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt
}
P.MsoToc1 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 0.25in 0in 0pt; TEXT-TRANSFORM: uppercase; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
LI.MsoToc1 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 0.25in 0in 0pt; TEXT-TRANSFORM: uppercase; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
DIV.MsoToc1 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 0.25in 0in 0pt; TEXT-TRANSFORM: uppercase; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
P.MsoToc2 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 12pt 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
LI.MsoToc2 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 12pt 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
DIV.MsoToc2 {
	FONT-WEIGHT: bold; FONT-SIZE: 12pt; MARGIN: 12pt 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in; mso-bidi-font-weight: normal
}
P.MsoToc3 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 10pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc3 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 10pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc3 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 10pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc4 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 20pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc4 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 20pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc4 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 20pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc5 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 30pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc5 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 30pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc5 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 30pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc6 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 40pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc6 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 40pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc6 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 40pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc7 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 50pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc7 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 50pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc7 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 50pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc8 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 60pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc8 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 60pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc8 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 60pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoToc9 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 70pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
LI.MsoToc9 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 70pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
DIV.MsoToc9 {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt 70pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; mso-style-next: Normal; tab-stops: right 6.0in
}
P.MsoHeader {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
LI.MsoHeader {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
DIV.MsoHeader {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
P.MsoFooter {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
LI.MsoFooter {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
DIV.MsoFooter {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: center 3.0in right 6.0in
}
P.MsoBodyText {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: red; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
LI.MsoBodyText {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: red; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
DIV.MsoBodyText {
	FONT-SIZE: 12pt; MARGIN: 0in 0in 0pt; COLOR: red; FONT-FAMILY: "Times New Roman"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
P.MsoBodyText2 {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: black; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-bidi-font-family: "Times New Roman"
}
LI.MsoBodyText2 {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: black; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-bidi-font-family: "Times New Roman"
}
DIV.MsoBodyText2 {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: black; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-bidi-font-family: "Times New Roman"
}
A:link {
	COLOR: blue; TEXT-DECORATION: underline; text-underline: single
}
SPAN.MsoHyperlink {
	COLOR: blue; TEXT-DECORATION: underline; text-underline: single
}
A:visited {
	COLOR: purple; TEXT-DECORATION: underline; text-underline: single
}
SPAN.MsoHyperlinkFollowed {
	COLOR: purple; TEXT-DECORATION: underline; text-underline: single
}
STRONG {
	mso-bidi-font-weight: normal
}
EM {
	mso-bidi-font-style: normal
}
P {
	FONT-SIZE: 10pt; MARGIN: 5pt 0in; COLOR: black; FONT-FAMILY: Arial; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"
}
CODE {
	mso-bidi-font-size: 8.5pt; mso-fareast-font-family: "Times New Roman"; mso-bidi-font-family: "Courier New"; mso-ansi-font-size: 8.5pt; mso-ascii-font-family: "Courier New"; mso-hansi-font-family: "Courier New"
}
PRE {
	FONT-SIZE: 10pt; MARGIN: 0in 0in 0pt; COLOR: windowtext; FONT-FAMILY: "Courier New"; mso-pagination: widow-orphan; mso-fareast-font-family: "Courier New"; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt
}
P.Code {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: windowtext; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in 2.25in 2.5in 2.75in 3.0in 3.25in 3.5in 3.75in 4.0in 4.25in 4.5in 4.75in 5.0in 5.25in 5.5in 5.75in; mso-bidi-font-family: "Times New Roman"; mso-style-name: Code
}
LI.Code {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: windowtext; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in 2.25in 2.5in 2.75in 3.0in 3.25in 3.5in 3.75in 4.0in 4.25in 4.5in 4.75in 5.0in 5.25in 5.5in 5.75in; mso-bidi-font-family: "Times New Roman"; mso-style-name: Code
}
DIV.Code {
	FONT-SIZE: 9pt; MARGIN: 0in 0in 0pt; LAYOUT-GRID-MODE: char; COLOR: windowtext; FONT-FAMILY: "Courier New"; mso-bidi-font-size: 10.0pt; mso-pagination: widow-orphan; mso-fareast-font-family: "Times New Roman"; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in 2.25in 2.5in 2.75in 3.0in 3.25in 3.5in 3.75in 4.0in 4.25in 4.5in 4.75in 5.0in 5.25in 5.5in 5.75in; mso-bidi-font-family: "Times New Roman"; mso-style-name: Code
}
DIV.Section1 {
	page: Section1
}
OL {
	MARGIN-BOTTOM: 0in
}
UL {
	MARGIN-BOTTOM: 0in
}
</STYLE>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]--></HEAD>
<BODY lang=EN-US style="tab-interval: .5in" vLink=purple link=blue>
<DIV class=Section1>
<P class=MsoNormal style="MARGIN: 14.2pt 0in 0pt 25.5pt; TEXT-ALIGN: right" 
align=right><A name=_Toc496069418></A><A name=_Toc506634621><SPAN 
style="mso-bookmark: _Toc496069418"><SPAN 
style="FONT-SIZE: 8pt; mso-bidi-font-size: 10.0pt">Copyright © 2001 Object 
Technology International, Inc.<o:p></o:p></SPAN></SPAN></A></P>
<TABLE 
style="MARGIN-LEFT: 25.5pt; WIDTH: 100%; mso-cellspacing: 0in; mso-padding-alt: 1.5pt 1.5pt 1.5pt 1.5pt" 
cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD 
    style="PADDING-RIGHT: 1.5pt; PADDING-LEFT: 1.5pt; BACKGROUND: #0080c0; PADDING-BOTTOM: 1.5pt; PADDING-TOP: 1.5pt" 
    vAlign=top>
      <P class=MsoNormal><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
      style="mso-bookmark: _Toc496069418"><B><SPAN 
      style="COLOR: white; FONT-FAMILY: Arial">&nbsp;Eclipse Corner 
      Article</SPAN></B></SPAN></SPAN><SPAN 
      style="mso-bookmark: _Toc506634621"><SPAN 
      style="mso-bookmark: _Toc496069418"><SPAN 
      style="mso-bidi-font-size: 12.0pt"><o:p></o:p></SPAN></SPAN></SPAN></P></TD><SPAN 
    style="mso-bookmark: _Toc506634621"><SPAN 
    style="mso-bookmark: _Toc496069418"></SPAN></SPAN></TR></TBODY></TABLE>
<H1 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><IMG id=_x0000_i1043 height=86 
src="Writing%20Your%20Own%20Widget_fichiers/Idea.jpg" width=120 
align=center></SPAN></SPAN><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><SPAN 
style="FONT-SIZE: 8pt; mso-bidi-font-size: 10.0pt"><o:p></o:p></SPAN></SPAN></SPAN></H1>
<H1 style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418">Creating Your Own Widgets using 
SWT</SPAN></SPAN></H1>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; TEXT-INDENT: 0.5in"><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><B><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0.5in 0pt 61.5pt"><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><B>Summary</B> <BR>When writing 
applications, you typically use the standard widgets provided by SWT. On 
occasion, you will need to create your own custom widgets. For example, you 
might want to add a new type of widget not provided by the standard widgets, or 
extend the functionality of an existing widget.<SPAN 
style="mso-spacerun: yes">&nbsp; </SPAN>This article explains the different SWT 
extension strategies and shows you how to use them. </SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0.5in 0pt 61.5pt"><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><B><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0.5in 0pt 61.5pt"><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><B>By Steve Northover &amp; Carolyn MacLeod, 
OTI<BR></B></SPAN></SPAN><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><SPAN style="FONT-SIZE: 10pt">March 22, 
2001</SPAN><B><o:p></o:p></B></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN: 0in 0.5in 0pt 61.5pt"><SPAN 
style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418"><B><SPAN 
style="FONT-SIZE: 8pt; mso-bidi-font-size: 10.0pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></B></SPAN></SPAN></P>
<DIV class=MsoNormal style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center" 
align=center><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418">
<HR align=center width="100%" SIZE=2>
</SPAN></SPAN></DIV><B><SPAN 
style="FONT-SIZE: 21pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-font-kerning: 14.0pt; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN></B>
<H1 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc506634621"><SPAN 
style="mso-bookmark: _Toc496069418">Creating Your Own Widgets</SPAN></SPAN></H1>
<H2 style="MARGIN-LEFT: 25.5pt"><A name=_Toc496069419></A><A 
name=_Toc496069776></A><A name=_Toc506634622><SPAN 
style="mso-bookmark: _Toc496069776"><SPAN 
style="mso-bookmark: _Toc496069419">Overview</SPAN></SPAN></A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">When writing applications, you 
typically use the standard widgets provided by SWT. On occasion, you will need 
to create your own custom widgets. There are several reasons that you might want 
to do this:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>To add a new type of widget not provided by the standard 
widgets</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>To extend the functionality of an existing widget</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Custom widgets 
are created by subclassing in the existing widget class hierarchy.</P>
<H2 style="MARGIN-LEFT: 25.5pt"><A name=_Toc506634623>Portability 
Issues</A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">It is very important to think 
about portability before writing a custom widget. SWT can be extended in the 
following ways:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Write a new widget that is 100% Java™ portable</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Extend an existing widget in a 100% Java portable 
manner</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Write a new widget that wraps an existing native widget 
– not portable</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Extend an existing widget by calling natives – not 
portable</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">In addition, a combination of 
these can be used on different platforms:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Write a new widget that wraps an existing native widget 
on one platform, but is 100% Java portable on other platforms</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Extend an existing widget by calling natives on one 
platform, but call 100% Java portable code on other platforms</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">This of course involves 
implementing the widget twice – using native calls on the one platform and 
portable code on the others – while maintaining the same API for both.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">Each SWT platform is shipped with 
both a shared library (for example, a DLL on Windows®) and a jar (for the Java 
class files). The shared library contains all of the native function required 
for SWT, but it was not meant to be a complete set of the functions available on 
the platform. Thus to expose native function or native widgets that were not 
exposed by SWT, you need to write your own shared library. If you are using a 
combination of native code on one platform and portable code on another, make 
sure you call your shared library on the platform with the native widget, and 
your jar on the platform with the portable widget.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">One final note: SWT’s interface 
to its shared libraries is internal SWT code. It was not meant to provide a 
framework for applications to access all possible native function on all 
platforms – that would be a daunting task. One of the purposes of this document 
is to show how you can integrate C code with SWT, not model the operating 
system. As such, the approach taken to writing natives in this document is 
different from the approach taken by SWT.<BR 
style="PAGE-BREAK-BEFORE: always; mso-special-character: line-break" 
clear=all></P>
<H2 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069420></A><A 
name=_Toc496069777></A><A name=_Toc506634624><SPAN 
style="mso-bookmark: _Toc496069777"><SPAN 
style="mso-bookmark: _Toc496069420">Writing Portable 
Widgets</SPAN></SPAN></A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The SWT library 
provides two widget classes that are typically used as the basis for a custom 
100% Java portable widget:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]><I style="mso-bidi-font-style: normal">Canvas</I> - to 
create basic widgets</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]><I style="mso-bidi-font-style: normal">Composite</I> - 
to create compound widgets</P>
<H3 style="MARGIN-LEFT: 25.5pt"><A name=_Toc496069421></A><A 
name=_Toc496069778></A><A name=_Toc506634625><SPAN 
style="mso-bookmark: _Toc496069778"><SPAN 
style="mso-bookmark: _Toc496069421">Basic Widgets</SPAN></SPAN></A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Basic widgets do 
not contain any other widgets, and are not built from any other widgets. Basic 
widgets draw themselves. An example of a basic widget is <I 
style="mso-bidi-font-style: normal">Button</I>. Another example is <I 
style="mso-bidi-font-style: normal">Text</I>. To create a custom basic widget, 
subclass <I style="mso-bidi-font-style: normal">Canvas</I>.</P>
<H3 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069422></A><A 
name=_Toc496069779></A><A name=_Toc506634626><SPAN 
style="mso-bookmark: _Toc496069779"><SPAN 
style="mso-bookmark: _Toc496069422">Compound Widgets</SPAN></SPAN></A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Compound widgets 
contain other widgets, and/or are composed of other widgets. An example of a 
compound widget is <I style="mso-bidi-font-style: normal">Combo</I>. It contains 
a <I style="mso-bidi-font-style: normal">Text</I>, a <I 
style="mso-bidi-font-style: normal">Button</I> and a <I 
style="mso-bidi-font-style: normal">List</I>. Another example is <I 
style="mso-bidi-font-style: normal">Group</I>. It can contain any number of 
children. To create a custom compound widget, subclass <I 
style="mso-bidi-font-style: normal">Composite</I>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">The astute reader may have 
noticed that <I style="mso-bidi-font-style: normal">Canvas</I> is actually a 
subclass of <I style="mso-bidi-font-style: normal">Composite</I>. This is an 
artifact of the underlying implementation. We treat <I 
style="mso-bidi-font-style: normal">Canvas</I> as something you draw on and <I 
style="mso-bidi-font-style: normal">Composite</I> as something that has 
children. Therefore the rule for deciding which class to subclass is this: If 
your widget has or will have children, subclass <I 
style="mso-bidi-font-style: normal">Composite</I>. If your widget does not have 
and never will have children, subclass <I 
style="mso-bidi-font-style: normal">Canvas</I>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">Note also that we do not 
distinguish between a compound widget that is intended to contain and lay out 
children, and one that is merely composed of other widgets. Both will be a 
subclass of <I style="mso-bidi-font-style: normal">Composite</I>, and as such we 
are describing implementation, rather than type, inheritance. When writing 100% 
Java portable widgets, we can think of <I 
style="mso-bidi-font-style: normal">Composite </I>as the portable entry point 
into the SWT class hierarchy for all compound widgets, and <I 
style="mso-bidi-font-style: normal">Canvas </I>as the portable entry point into 
the SWT class hierarchy for all basic widgets, regardless of widget type.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P><B><SPAN 
style="FONT-SIZE: 18pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN></B>
<H2 style="MARGIN-LEFT: 25.5pt"><A name=_Toc496069423></A><A 
name=_Toc496069780><SPAN style="mso-bookmark: _Toc496069423">Basic Widget 
Example</SPAN></A><SPAN style="mso-bookmark: _Toc496069423"></SPAN><SPAN 
style="mso-bookmark: _Toc496069780"></SPAN><SPAN 
style="FONT-WEIGHT: normal; FONT-SIZE: 12pt; FONT-FAMILY: 'Times New Roman'; mso-bidi-font-size: 18.0pt"><o:p></o:p></SPAN></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Imagine we are 
building an application where we need a widget that displays an image with a 
line of text to the right, something like this:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><!--[if gte vml 1]><o:wrapblock><v:shapetype 
id=_x0000_t75 coordsize = "21600,21600" o:preferrelative = "t" o:spt = "75" 
filled = "f" stroked = "f" path = " m@4@5 l@4@11@9@11@9@5 xe"><v:stroke 
joinstyle = "miter"></v:stroke><v:formulas><v:f eqn = 
"if lineDrawn pixelLineWidth 0 "></v:f><v:f eqn = "sum @0 1 0 "></v:f><v:f eqn = 
"sum 0 0 @1 "></v:f><v:f eqn = "prod @2 1 2 "></v:f><v:f eqn = 
"prod @3 21600 pixelWidth "></v:f><v:f eqn = 
"prod @3 21600 pixelHeight "></v:f><v:f eqn = "sum @0 0 1 "></v:f><v:f eqn = 
"prod @6 1 2 "></v:f><v:f eqn = "prod @7 21600 pixelWidth "></v:f><v:f eqn = 
"sum @8 21600 0 "></v:f><v:f eqn = "prod @7 21600 pixelHeight "></v:f><v:f eqn = 
"sum @10 21600 0 "></v:f></v:formulas><v:path o:extrusionok = "f" 
gradientshapeok = "t" o:connecttype = "rect"></v:path><o:lock aspectratio="t" 
v:ext="edit"></o:lock></v:shapetype><v:shape id=_x0000_s1033 
style="MARGIN-TOP: -14.25pt; Z-INDEX: 3; LEFT: 0px; MARGIN-LEFT: 154.8pt; WIDTH: 51.75pt; POSITION: absolute; HEIGHT: 17.25pt; TEXT-ALIGN: left; mso-position-horizontal-relative: text; mso-position-vertical-relative: text" 
type = "#_x0000_t75" coordsize = "21600,21600" o:allowincell = "f"><v:imagedata 
o:title="" src = 
"./Writing%20Your%20Own%20Widget_files/image001.png"></v:imagedata><w:wrap 
anchorx="page" type = "topandbottom"></w:wrap></v:shape><![if gte mso 9]><o:OLEObject Type="Embed" ProgID="PBrush"
  ShapeID="_x0000_s1033" DrawAspect="Content" ObjectID="_1053168690">
 </o:OLEObject>
 <![endif]><![endif]--><![if !vml]><span style='mso-ignore:vglayout'>
 <table cellpadding=0 cellspacing=0 align=left>
  <tr>
   <td width=206 height=0></td>
  </tr>
  <tr>
   <td></td>
   <td><img width=69 height=23
   src="./Writing%20Your%20Own%20Widget_files/image002.jpg" v:shapes="_x0000_s1033"></td>
  </tr>
 </table>
 </span><![endif]><!--[if gte vml 1]></o:wrapblock><![endif]--><BR 
style="mso-ignore: vglayout" clear=all><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p>
<P></P><BR style="mso-ignore: vglayout" clear=all>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Since we plan to 
draw both the image and the text, we subclass <I 
style="mso-bidi-font-style: normal">Canvas</I>.</P>
<P style="MARGIN: 0in 0in 0pt 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.graphics.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.widgets.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.events.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabel </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Canvas {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Image image;<SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>String text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Our widget needs 
to be created. To do this, we must write at least one constructor. Because 
widgets in SWT cannot be created without a parent, the constructor must take at 
least one argument that is the parent. The convention in SWT is to have a 
constructor with two arguments, <B 
style="mso-bidi-font-weight: normal">parent</B> and <B 
style="mso-bidi-font-weight: normal">style</B>. Style bits are used to control 
the look of widgets. Neither the parent nor the style bits can be changed after 
the widget is created. Your widget can use style bits too.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>PictureLabel(Composite parent, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
style) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">super</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">(parent, 
style);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The parent of any 
widget must be a <I style="mso-bidi-font-style: normal">Composite</I>. The style 
is an integer, where some bits are already used by the system. For example, <B 
style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 10pt">SWT.BORDER</SPAN></B> will cause a <I 
style="mso-bidi-font-style: normal">Canvas</I> to have a border.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Next we need to 
initialize our widget. The convention in SWT is to do all initialization in the 
constructor. Certainly, any initialization that requires the parent or the style 
bits must be done here. We have decided that our <I 
style="mso-bidi-font-style: normal">PictureLabel</I> widget will default to a 
white background, so we need to add a <I 
style="mso-bidi-font-style: normal">Color</I> field, allocate a <I 
style="mso-bidi-font-style: normal">Color</I>, and initialize the 
background.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabel </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Canvas {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Image image;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>String text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Color white;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>PictureLabel(Composite parent, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
style) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">super</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">(parent, 
style);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>white = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Color(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
255, 255, 255);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Colors are 
graphics resources that must be disposed. How can we dispose of the white color 
that we allocated? We add a dispose listener. Every widget provides notification 
when it is destroyed. We add the dispose listener in the constructor.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addDisposeListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
DisposeListener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>white.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>});<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><B 
style="mso-bidi-font-weight: normal">Note:</B> Do not just override dispose() to 
release the color. This only works in the case where dispose is actually sent to 
the widget. When the shell is disposed this does not happen, so overriding 
dispose will leak the color. To ensure that your widget is informed of an event 
no matter how it was generated, add an event listener instead of overriding 
methods that generate events. </P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Our widget is 
created and initialized, and it can be destroyed without leaking graphics 
resources. Now it needs some functionality. We need to draw the image and the 
text, and this will require another listener: the paint listener. Implementing a 
widget often requires adding many listeners. We could implement the listener 
interfaces as part of our new widget class, but that would make the interface 
methods public in our class. Instead, the SWT convention is to use anonymous 
inner classes to forward the functionality to non-public methods of the same 
name. For consistency, we will rewrite the dispose listener to follow this 
convention, moving the color dispose code into the <B 
style="mso-bidi-font-weight: normal">widgetDisposed</B> method. We write the 
paint listener the same way.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addDisposeListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
DisposeListener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.widgetDisposed(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});<SPAN 
style="mso-tab-count: 1"> </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addPaintListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PaintListener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
paintControl(PaintEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.paintControl(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>});<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">By choosing the 
same names, we have the option of easily implementing the interfaces if we 
decide to do so later. Here is the <B 
style="mso-bidi-font-weight: normal">paintControl</B> method to draw the 
widget.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
paintControl(PaintEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>GC gc = 
e.gc;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
x = 1;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(image != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.drawImage(image, x, 1); <o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>x = image.getBounds().width + 5;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(text != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.drawString(text, x, 1);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P style="MARGIN: 0in 0in 0pt 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we can draw 
the image and the text, but we need to let the user set them. So we write set 
and get methods for each of them.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Image getImage() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
image;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setImage(Image image) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.image 
= image;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>redraw();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
String getText() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setText(String text) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.text 
= text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>redraw();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The get methods 
are trivial. They simply answer the fields. The set methods set the fields and 
then redraw the widget to show the change. The easiest way to do this is to 
damage the widget by calling <B 
style="mso-bidi-font-weight: normal">redraw()</B>, which queues a paint event 
for the widget. This approach has the advantage that setting both the image and 
the text will cause only one paint event because multiple paints are collapsed 
in the event queue.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">We are not done 
yet. Our widget does not know its preferred size. This information is needed in 
order to lay out the widget. In our case, the best size is simply the size of 
the text plus the size of the image, plus a little bit of space in between. 
Also, we will add a 1 pixel margin all the way around.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">To return the 
preferred size of the widget, we must implement the <B 
style="mso-bidi-font-weight: normal">computeSize</B> method. The <B 
style="mso-bidi-font-weight: normal">computeSize</B> method can be quite 
complicated. Its job is to calculate the preferred size of the widget based on 
the current contents. The simplest implementation ignores the arguments and just 
computes the size.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point computeSize(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
wHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
hHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">boolean</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
changed) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
width = 0, height = 0;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(image != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Rectangle bounds = image.getBounds();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>width = bounds.width + 5;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>height = bounds.height;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(text != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>GC gc = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
GC(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Point extent = gc.stringExtent(text);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>width += extent.x;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>height = Math.max(height, extent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point(width + 2, height + 2);<SPAN 
style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">What are <B 
style="mso-bidi-font-weight: normal">wHint</B>, <B 
style="mso-bidi-font-weight: normal">hHint</B>, and <B 
style="mso-bidi-font-weight: normal">changed</B>? The hint arguments allow you 
to ask a widget questions such as “Given a particular width, how high does the 
widget need to be to show all of the contents”? For example, a word-wrapping <I 
style="mso-bidi-font-style: normal">Label</I> widget might be asked this. To 
indicate that the client does not care about a particular hint, the special 
value <B style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 10pt">SWT.DEFAULT</SPAN></B> is used. The following example 
asks a label for its preferred size given a width of 100 pixels: </P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Point extent = label.computeSize(100, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">For our <I 
style="mso-bidi-font-style: normal">PictureLabel</I> widget, we could be fancy 
and stack the image over the text when the width is too small, and/or wrap the 
text in order to meet a width request, but for simplicity we have decided not to 
do so. Still, we need to honour the hints. So, our widget will clip. The easiest 
way to do this is to perform the calculation and then filter the results.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point computeSize(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
wHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
hHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">boolean</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
changed) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
width = 0, height = 0;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(image != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Rectangle bounds = image.getBounds();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>width = bounds.width + 5;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>height = bounds.height;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(text != </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>GC gc = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
GC(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Point extent = gc.stringExtent(text);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>width += extent.x;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>height = Math.max(height, extent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(wHint != </SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
width = wHint;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(hHint != </SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
height = hHint;<SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point(width + 2, height + 2);<SPAN 
style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Notice that we do 
not return the hint sizes exactly as specified. We have added the 1-pixel 
border. Why do we do this? All widgets have a <I 
style="mso-bidi-font-style: normal">client area</I> and <I 
style="mso-bidi-font-style: normal">trim</I>. The hint parameters specify the 
desired size of the client area. We must set the size of the widget so that the 
size of the client area is the same as the hint, so the size we return from <B 
style="mso-bidi-font-weight: normal">computeSize</B> must include the trim.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">What about the <B 
style="mso-bidi-font-weight: normal">changed</B> flag? This is used in 
conjunction with SWT layout managers and is ignored for basic widgets. This will 
be discussed when we talk about compound widgets.</P><SPAN 
style="FONT-SIZE: 18pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-weight: bold; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN>
<H2 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069424></A><A 
name=_Toc496069781></A><A name=_Ref506190201></A><A name=_Toc506634627><SPAN 
style="mso-bookmark: _Ref506190201"><SPAN 
style="mso-bookmark: _Toc496069781"><SPAN 
style="mso-bookmark: _Toc496069424">Compound Widget 
Example</SPAN></SPAN></SPAN></A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we will 
recode the <I style="mso-bidi-font-style: normal">PictureLabel</I> widget as a 
compound widget. Note that this section assumes that you have read the basic 
widget example section. This time the widget will be implemented using two <I 
style="mso-bidi-font-style: normal">Label</I> children: one to display the 
image, and one to display the text. Since we are using other widgets to 
implement our widget, we subclass <I 
style="mso-bidi-font-style: normal">Composite</I>.</P>
<P class=Code 
style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabel </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Composite {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Label image, text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Color white;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>PictureLabel(Composite parent, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
style) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">super</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">(parent, 
style);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>white = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Color(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
255, 255, 255);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>image = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Label(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>text = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Label(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>image.setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>text.setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addDisposeListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
DisposeListener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.widgetDisposed(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});<SPAN 
style="mso-tab-count: 1"> </SPAN><o:p></o:p></SPAN></P>
<P class=Code 
style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">As well as 
initializing the graphics resources in the constructor, we need to create the 
child widgets and set their background color. A common mistake is to create the 
child widgets as children of the parent. This would make them peers of our 
widget. Instead, make sure to create them as children of <B 
style="mso-bidi-font-weight: normal">this</B>. The dispose listener frees the 
color, as before.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now that we have 
handled creation and destruction, we need to lay out the children. There are two 
possibilities:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>position the children when the widget is resized</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>use a layout manager</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">We will implement 
both here for comparison.</P>
<H3 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069425></A><A 
name=_Toc496069782></A><A name=_Toc506634628><SPAN 
style="mso-bookmark: _Toc496069782"><SPAN 
style="mso-bookmark: _Toc496069425">Positioning Children on 
Resize</SPAN></SPAN></A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">First, we will 
position the children when the widget is resized. We need to add a resize 
listener.</P>
<P class=Code 
style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addControlListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
ControlAdapter() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
controlResized(ControlEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.controlResized(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});<SPAN 
style="mso-tab-count: 1"> </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
controlResized(ControlEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point iExtent = 
image.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point tExtent = 
text.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>image.setBounds(1, 1, 
iExtent.x, iExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>text.setBounds(iExtent.x + 5, 1, tExtent.x, 
tExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=Code 
style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">When the widget 
is resized, we compute the size of each of our children, and then use their 
extents and our 5-pixel spacing and 1-pixel margin to position the children 
using <B style="mso-bidi-font-weight: normal">setBounds</B>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we will write 
the set and get methods. Because we are not drawing the image and text, damaging 
the widget will not cause the correct behavior. The children must be resized to 
show their new contents. To do this, we will take the code from the resize 
listener and move it into a helper method called <B 
style="mso-bidi-font-weight: normal">resize</B>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
controlResized(ControlEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>resize();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
resize() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point iExtent = 
image.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point tExtent = 
text.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>image.setBounds(1, 1, 
iExtent.x, iExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>text.setBounds(iExtent.x + 5, 1, tExtent.x, 
tExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Here are the set 
and get methods.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Image getImage() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
image.getImage();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setImage(Image image) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.image.setImage(image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>resize();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
String getText() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
text.getText();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setText(String text) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.text.setText(text);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>resize();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P style="MARGIN: 0in 0in 0pt 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we have to 
implement the <B style="mso-bidi-font-weight: normal">computeSize</B> method. 
This is a simple matter of asking the children for their preferred sizes.</P>
<P style="MARGIN: 0in 0in 0pt 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point computeSize(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
wHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
hHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">boolean</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
changed) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point iExtent = 
image.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point tExtent = 
text.computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
width = iExtent.x + 5 + tExtent.x;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
height = Math.max(iExtent.y, tExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(wHint != </SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
width = wHint;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(hHint != </SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
height = hHint;<SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point(width + 2, height + 2);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<H3 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069426></A><A 
name=_Toc496069783></A><A name=_Toc506634629><SPAN 
style="mso-bookmark: _Toc496069783"><SPAN 
style="mso-bookmark: _Toc496069426">Positioning Children With a Layout 
Manager</SPAN></SPAN></A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we will 
rewrite our compound widget example using a layout manager to position our 
widget’s children. We could just use an existing SWT layout manager - <I 
style="mso-bidi-font-style: normal">RowLayout</I> - to position the children, 
but we promised to explain the <B 
style="mso-bidi-font-weight: normal">changed</B> parameter in the <B 
style="mso-bidi-font-weight: normal">computeSize</B> method. This also gives an 
example of how this might be done for more complicated layout requirements. In 
the code that follows, the class <I 
style="mso-bidi-font-style: normal">PictureLabelLayout</I> extends <I 
style="mso-bidi-font-style: normal">Layout</I>, and the rewritten <I 
style="mso-bidi-font-style: normal">PictureLabel</I> class is listed in its 
entirety.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The layout 
manager is set into the widget with the following line of code in the widget 
constructor:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setLayout(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabelLayout());<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">We will call the 
layout manager in the widget’s two <B 
style="mso-bidi-font-weight: normal">set</B> methods, with the following line of 
code:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>layout(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">true</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The parameter to 
the <B style="mso-bidi-font-weight: normal">layout</B> method is the <B 
style="mso-bidi-font-weight: normal">changed</B> flag. If <B 
style="mso-bidi-font-weight: normal">true</B>, it indicates that the widget 
contents have changed (as is the case in the two <B 
style="mso-bidi-font-weight: normal">set </B>methods), therefore any caches that 
the layout manager may have been keeping need to be flushed. When the widget is 
resized, the SWT system sends <B 
style="mso-bidi-font-weight: normal">layout(false)</B> to the layout manager, so 
caches do not need to be flushed. This lets the layout manager perform any 
expensive calculations only when necessary.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">In class <I 
style="mso-bidi-font-style: normal">PictureLabelLayout</I>, we know that <B 
style="mso-bidi-font-weight: normal">composite.getChildren()</B> will always 
return exactly two children. In general, a layout manager will have to handle 
any number of children, so if you are implementing a widget that can have an 
arbitrary number of children you will need to loop through them to do your 
calculations. Note that it is in this class that we check the value of the <B 
style="mso-bidi-font-weight: normal">changed</B> flag and optionally flush our 
two “extent” caches.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Notice that the 
<I style="mso-bidi-font-style: normal">PictureLabel</I> class has been 
simplified by using a layout manager. The code in <B 
style="mso-bidi-font-weight: normal">computeSize</B> and <B 
style="mso-bidi-font-weight: normal">resize</B> has been moved to the <I 
style="mso-bidi-font-style: normal">PictureLabelLayout</I> class, and the resize 
listener is no longer needed.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.graphics.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.widgets.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.events.*;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabelLayout </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Layout {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Point iExtent, tExtent; </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: maroon; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">// 
the cached sizes</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">protected</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point computeSize(Composite composite, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
wHint, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
hHint,<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">boolean</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
changed) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Control [] children = 
composite.getChildren();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(changed || iExtent == </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
|| tExtent == </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>iExtent = children[0].computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>tExtent = children[1].computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
width = iExtent.x + 5 + tExtent.x;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
height = Math.max(iExtent.y, tExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Point(width + 2, height + 2);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">protected</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
layout(Composite composite, </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">boolean</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
changed) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Control [] children = 
composite.getChildren();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(changed || iExtent == </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
|| tExtent == </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>iExtent = children[0].computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>tExtent = children[1].computeSize(</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 8pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">SWT.DEFAULT</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">false</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>children[0].setBounds(1, 1, iExtent.x, iExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>children[1].setBounds(iExtent.x + 5, 1, tExtent.x, 
tExtent.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabel </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Composite {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Label image, text;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Color white;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>PictureLabel(Composite parent, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
style) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">super</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">(parent, 
style);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>white = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Color(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
255, 255, 255);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>image = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Label(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>text = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Label(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>text.setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>image.setBackground(white);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addDisposeListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
DisposeListener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.widgetDisposed(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>});<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setLayout(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabelLayout());<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>white.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Image getImage() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
image.getImage();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setImage(Image image) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.image.setImage(image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>layout(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">true</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
String getText() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">return</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
text.getText();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
setText(String text) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.text.setText(text);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>layout(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">true</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P><SPAN 
style="FONT-SIZE: 18pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-weight: bold; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN>
<H2 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc506634630>Events and 
Listeners</A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Often, you will 
want a new widget to support an event. For example, you may want your widget to 
notify listeners when the user selects it. Or you may have an editable widget 
that should notify listeners when its value has changed.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The details to 
implement an event called <I style="mso-bidi-font-style: normal">AnEvent</I> are 
<B style="mso-bidi-font-weight: normal"><I 
style="mso-bidi-font-style: normal">exactly</I></B> the same as implementing a 
Java Bean listener:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>create a class called <I 
style="mso-bidi-font-style: normal">AnEvent </I>which extends <I 
style="mso-bidi-font-style: normal">java.util.EventObject</I> and may have 
additional fields related to the event. Usually you want to provide get methods 
for event fields, but you do not always want to provide set methods. Fields are 
typically set in the constructor.</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>create a class called <I 
style="mso-bidi-font-style: normal">AnEventListener </I>which implements the <I 
style="mso-bidi-font-style: normal">java.util.EventListener </I>interface and 
provides a method called, say, <B 
style="mso-bidi-font-weight: normal">anEventHappened(AnEvent event)</B></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>keep a <I style="mso-bidi-font-style: normal">Vector</I> 
(or some other collection) of <I 
style="mso-bidi-font-style: normal">AnEventListener</I>’s in your widget 
class</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>implement <B 
style="mso-bidi-font-weight: normal">addAnEventListener</B> which adds the 
specified listener to the <I style="mso-bidi-font-style: normal">Vector</I></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>implement <B 
style="mso-bidi-font-weight: normal">removeAnEventListener</B> to remove the 
specified listener from the <I 
style="mso-bidi-font-style: normal">Vector</I></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>determine when the event happens in your widget 
(possibly by adding listeners to your widget) and when it does:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 61.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>create an instance of <I 
style="mso-bidi-font-style: normal">AnEvent</I> called <B 
style="mso-bidi-font-weight: normal">event</B>, initialized as appropriate</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 61.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>send <B 
style="mso-bidi-font-weight: normal">anEventHappened(event)</B> to each of the 
<I style="mso-bidi-font-style: normal">AnEventListener</I>’s in the <I 
style="mso-bidi-font-style: normal">Vector</I></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Say we want <I 
style="mso-bidi-font-style: normal">PictureLabel</I> widgets to notify listeners 
when the user clicks the left mouse button in the image. We create class <I 
style="mso-bidi-font-style: normal">ImageClickedEvent</I> with <B 
style="mso-bidi-font-weight: normal">x</B> and <B 
style="mso-bidi-font-weight: normal">y</B> fields, and interface <I 
style="mso-bidi-font-style: normal">ImageClickedListener</I> with method <B 
style="mso-bidi-font-weight: normal">imageClicked(ImageClickedEvent event)</B>. 
</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
ImageClickedEvent </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
java.util.EventObject {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
x, y;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
ImageClickedEvent(Object source, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
x, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
y) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">super</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">(source);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.x 
= x;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.y 
= y;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">interface</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
ImageClickedListener </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">extends</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
java.util.EventListener {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
imageClicked(ImageClickedEvent event);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">We add a <I 
style="mso-bidi-font-style: normal">Vector</I> to <I 
style="mso-bidi-font-style: normal">PictureLabel</I> to store the listeners:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Vector imageClickedListeners = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Vector();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
addImageClickedListener(ImageClickedListener listener) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>imageClickedListeners.addElement(listener);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
removeImageClickedListener(ImageClickedListener listener) 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>imageClickedListeners.removeElement(listener);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Finally, in <I 
style="mso-bidi-font-style: normal">PictureLabel</I>’s constructor, we add a 
mouse listener to the image <I style="mso-bidi-font-style: normal">Label</I> 
widget, which does the work of notifying the listeners when the left mouse 
button is clicked over the image.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>…<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addMouseListener(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
MouseAdapter() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
mouseDown(MouseEvent event) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(event.button == 1) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>PictureLabel.</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">.mouseDown(event);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>});<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
mouseDown(MouseEvent event) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>ImageClickedEvent e = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
ImageClickedEvent(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">this</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
event.x, event.y);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
size = imageClickedListeners.size();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
i = 0; i &lt; size; i++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>ImageClickedListener listener =<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>(ImageClickedListener) 
imageClickedListeners.elementAt(i);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>listener.imageClicked(e);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P><SPAN 
style="FONT-SIZE: 18pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-weight: bold; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN>
<H2 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc496069427></A><A 
name=_Toc496069784></A><A name=_Toc506634631><SPAN 
style="mso-bookmark: _Toc496069784"><SPAN 
style="mso-bookmark: _Toc496069427">Sample Application</SPAN></SPAN></A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Now we will use 
the new widget in an example application. The application simply creates a shell 
with a <I style="mso-bidi-font-style: normal">PictureLabel</I> child. Then it 
sets the <I style="mso-bidi-font-style: normal">PictureLabel</I>’s image to a 
little red square, and text to “Hi there!”. There is no <I 
style="mso-bidi-font-style: normal">Layout</I> manager for the shell, so we will 
set the <I style="mso-bidi-font-style: normal">PictureLabel</I>’s size. When the 
image is clicked, we change the text to “Red!”.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Here is the 
application code:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.graphics.*;</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: maroon; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">import</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
org.eclipse.swt.widgets.*;</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: maroon; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">class</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabelExample {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">static</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
main(String [] args) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Image image = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Image(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
20, 20);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Color red = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Color(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
255, 0, 0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>GC gc = </SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
GC(image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.setBackground(red);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.fillRectangle(image.getBounds());<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>gc.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>red.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Shell shell = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Shell();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>PictureLabel label = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
PictureLabel(shell, 0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>label.setImage(image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>label.setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Hi 
there!"</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Point size = 
label.computeSize(SWT.DEFAULT, SWT.DEFAULT, false);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>label.setSize(size);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>label.addImageClickedListener(new ImageClickedListener() 
{<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
imageClicked(ImageClickedEvent event) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>((PictureLabel) event.getSource()).</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Red!"</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<SPAN 
style="LAYOUT-GRID-MODE: line"><o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>shell.open();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Display display = 
shell.getDisplay();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">while</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(!shell.isDisposed()) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(!display.readAndDispatch()) display.sleep();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>image.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in; mso-list: skip"><SPAN 
style="FONT-SIZE: 9pt; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">And here is what 
you see when you run it:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<DIV 
style="mso-element: frame; mso-element-frame-hspace: 9.0pt; mso-element-wrap: auto; mso-element-anchor-vertical: paragraph; mso-element-anchor-horizontal: column; mso-element-top: .05pt; mso-height-rule: exactly">
<TABLE cellSpacing=0 cellPadding=0 vspace="0" hspace="0">
  <TBODY>
  <TR>
    <TD 
    style="PADDING-RIGHT: 9pt; PADDING-LEFT: 9pt; PADDING-BOTTOM: 0in; PADDING-TOP: 0in" 
    vAlign=top align=left>
      <P class=MsoNormal 
      style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip; mso-element: frame; mso-element-frame-hspace: 9.0pt; mso-element-wrap: auto; mso-element-anchor-vertical: paragraph; mso-element-anchor-horizontal: column; mso-element-top: .05pt; mso-height-rule: exactly" 
      align=center><SPAN style="FONT-SIZE: 10pt"><!--[if gte vml 1]><v:shape 
      id=_x0000_i1046 style="WIDTH: 99.75pt; HEIGHT: 82.5pt" type = 
      "#_x0000_t75" coordsize = "21600,21600" fillcolor = 
      "winColor(17)"><v:imagedata o:title="" src = 
      "./Writing%20Your%20Own%20Widget_files/image003.png"></v:imagedata></v:shape><![endif]--><![if !vml]><img width=133 height=110
  src="./Writing%20Your%20Own%20Widget_files/image004.jpg" v:shapes="_x0000_i1046"><![endif]></SPAN></P></TD></TR></TBODY></TABLE></DIV>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; TEXT-ALIGN: center; mso-list: skip" align=center><B 
style="mso-bidi-font-weight: normal"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></B></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><B 
style="mso-bidi-font-weight: normal">A PictureLabel in a 
Shell<o:p></o:p></B></P>
<H2 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Ref498250831></A><A 
name=_Toc506634632><SPAN style="mso-bookmark: _Ref498250831">Advanced 
Issues</SPAN></A></H2>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">We have discussed 
the basics of creating a custom widget: subclassing <I 
style="mso-bidi-font-style: normal">Canvas</I> or <I 
style="mso-bidi-font-style: normal">Composite</I>, creating and initializing, 
setting and getting the widget’s resources, drawing, disposing graphics 
resources, size and layout, and providing events and listeners. There are some 
advanced issues that you may need to deal with when you implement a new 
widget.</P>
<H3 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc506634633>SWT Event 
Mechanism</A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">SWT provides a low-level listener 
mechanism as well as the usual Java ‘typed’ listeners. Every SWT widget 
understands <B style="mso-bidi-font-weight: normal">addListener(int eventType, 
Listener listener)</B> and <B 
style="mso-bidi-font-weight: normal">notifyListeners(int eventType, Event 
event)</B>. The <B style="mso-bidi-font-weight: normal">eventType</B> constants 
are defined in class <I style="mso-bidi-font-style: normal">SWT</I>. When an 
event occurs, the widget creates an SWT <I 
style="mso-bidi-font-style: normal">Event</I> object containing the appropriate 
type constant. The <B style="mso-bidi-font-weight: normal">notifyListeners 
</B>method<B style="mso-bidi-font-weight: normal"> </B>calls <B 
style="mso-bidi-font-weight: normal">handleEvent(Event event)</B> for the <I 
style="mso-bidi-font-style: normal">Listener</I>. If you need to reuse an 
existing SWT event, you would typically use this mechanism.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">For example, if your widget 
implements a selection event, you could implement your ‘typed’ add and remove 
methods as follows:</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
addSelectionListener(SelectionListener listener) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>addListener(SWT.Selection, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TypedListener(listener));<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
removeSelectionListener(SelectionListener listener) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>removeListener(SWT.Selection, 
listener);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><BR>When the ‘selection event’ 
occurs in your widget (say, when <B 
style="mso-bidi-font-weight: normal">child1</B> is selected), you notify the 
application’s selection listeners using <B 
style="mso-bidi-font-weight: normal">notifyListeners</B>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>child1.addListener(SWT.Selection, 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Listener() {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
handleEvent(Event e) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>notifyListeners(SWT.Selection, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Event());<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>});<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">Note that when we add the 
listener we first wrap it in a <I 
style="mso-bidi-font-style: normal">TypedListener</I>. This is because<I 
style="mso-bidi-font-style: normal"> TypedListener</I>’s <B 
style="mso-bidi-font-weight: normal">handleEvent(Event event)</B> method creates 
the appropriate <I style="mso-bidi-font-style: normal">TypedEvent</I> subclass 
based on the type in the <I style="mso-bidi-font-style: normal">Event</I>, and 
then calls the appropriate method for the typed event. In this way, applications 
can add Java typed listeners to widgets, but widget implementations can use the 
more efficient low-level listener mechanism. Make sure that your widget 
implementation provides a typed listener API, however. Applications should not 
be calling low-level listener methods. The typed listener methods prevent 
accidental programming errors such as assuming that all widgets can handle all 
types of event, or that all fields in the <I 
style="mso-bidi-font-style: normal">Event</I> class are valid for all 
events.</P><SPAN 
style="FONT-SIZE: 14pt; FONT-FAMILY: Arial; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-weight: bold; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN>
<H3 style="MARGIN-LEFT: 25.5pt; mso-list: skip"><A name=_Toc506634634><SPAN 
style="mso-spacerun: yes">&nbsp;</SPAN>Wrapping an SWT Widget</A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Occasionally, you 
may find that the best way to implement a new widget is by wrapping an existing 
SWT widget. For example, to implement a <I 
style="mso-bidi-font-style: normal">TableTree</I>, you might want to use a <I 
style="mso-bidi-font-style: normal">Table</I>. To do this, create <I 
style="mso-bidi-font-style: normal">TableTree</I> as a subclass of <I 
style="mso-bidi-font-style: normal">Composite</I>, and then in the <I 
style="mso-bidi-font-style: normal">TableTree</I> constructor create a <I 
style="mso-bidi-font-style: normal">Table</I> child. The resulting widget will 
be 100% Java portable because you call the wrapped widget’s API.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">Here are some 
guidelines for wrapping SWT widgets:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Forward as few methods and events as possible. Do not 
fall into the trap of automatically reimplementing the complete API of the 
wrapped widget. This will cause lots of boilerplate code and leave you playing 
catch up when new API is added to the wrapped widget. If you find that you are 
automatically forwarding every method, then it <I 
style="mso-bidi-font-style: normal">might</I> make more sense to implement your 
code as an ‘adaptor’ (i.e. as a set of listeners that are added to the unwrapped 
widget when the widget is created).</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Typically the methods you forward will be <B 
style="mso-bidi-font-weight: normal">setFont</B>, <B 
style="mso-bidi-font-weight: normal">setForeground</B>, <B 
style="mso-bidi-font-weight: normal">setBackground</B>, <B 
style="mso-bidi-font-weight: normal">setCursor</B>,<B 
style="mso-bidi-font-weight: normal"> setEnabled</B>, <B 
style="mso-bidi-font-weight: normal">setMenu</B>, and<B 
style="mso-bidi-font-weight: normal"> setToolTipText</B>. A typical forwarding 
method calls super to set the value for the parent, and then sets the value for 
the wrapped widget. You do not usually need to reimplement the corresponding get 
methods – these return the value from the parent.</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Do not reimplement <B 
style="mso-bidi-font-weight: normal">setData</B> or <B 
style="mso-bidi-font-weight: normal">getData</B> – your widget users can use the 
data field in the parent.</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Consider exposing the wrapped widget – it does not 
necessarily need to be hidden.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">A complete 
example of a <I style="mso-bidi-font-style: normal">TableTree</I> widget that 
was implemented by wrapping a <I style="mso-bidi-font-style: normal">Table</I> 
is provided in <A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixA.htm">Appendix 
A: TableTree and TableTreeItem</A>. This example also shows how <I 
style="mso-bidi-font-style: normal">TableTreeItem</I> was implemented by 
subclassing <I style="mso-bidi-font-style: normal">Item</I> and wrapping a <I 
style="mso-bidi-font-style: normal">TableItem</I>. Some of the design decisions 
that were made are:</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Wrap a 
<I style="mso-bidi-font-style: normal">Table</I> widget</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Column 
0 of the <I style="mso-bidi-font-style: normal">Table</I> widget will contain 
the ‘tree’ representation</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>The 
image in column 0 will contain a [+] or [-] to show the expanded state of the 
tree</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Because 
we are using a <I style="mso-bidi-font-style: normal">Table</I>, we need to use 
<I style="mso-bidi-font-style: normal">TableColumn</I> and <I 
style="mso-bidi-font-style: normal">TableItem</I> classes</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Use <I 
style="mso-bidi-font-style: normal">TableColumn</I> class directly – we do not 
need to wrap it</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Wrap <I 
style="mso-bidi-font-style: normal">TableItem</I> to store the expanded state 
and to enforce the column 0 restrictions</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Implement some of the <I 
style="mso-bidi-font-style: normal">Tree</I> and <I 
style="mso-bidi-font-style: normal">TreeItem</I> API methods that make sense for 
<I style="mso-bidi-font-style: normal">TableTree</I> and <I 
style="mso-bidi-font-style: normal">TableTreeItem</I></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]>Expose 
the fact that we are wrapping a <I style="mso-bidi-font-style: normal">Table</I> 
by providing a <B style="mso-bidi-font-weight: normal">getTable()</B> method on 
<I style="mso-bidi-font-style: normal">TableTree</I>. This simplifies our 
implementation significantly because the user can create columns and show 
headers and grid lines by going directly to the <I 
style="mso-bidi-font-style: normal">Table</I>.</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l2 level1 lfo4"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Reimplement common API methods like <B 
style="mso-bidi-font-weight: normal">setFont</B> for convenience</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip">The following 
page shows an example three-column <I 
style="mso-bidi-font-style: normal">TableTree</I>, and the application code that 
created it. The full source listing for <I 
style="mso-bidi-font-style: normal">TableTree</I> and <I 
style="mso-bidi-font-style: normal">TableTreeItem</I> is in <A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixA.htm">Appendix 
A: TableTree and TableTreeItem</A>.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><!--[if gte vml 1]><o:wrapblock><v:shape 
id=_x0000_s1027 
style="MARGIN-TOP: 0px; Z-INDEX: 1; LEFT: 0px; MARGIN-LEFT: 0px; WIDTH: 246pt; POSITION: absolute; HEIGHT: 170.25pt; TEXT-ALIGN: left; mso-position-horizontal-relative: text; mso-position-vertical-relative: text" 
type = "#_x0000_t75" coordsize = "21600,21600" o:allowincell = "f"><v:imagedata 
o:title="" src = 
"./Writing%20Your%20Own%20Widget_files/image005.png"></v:imagedata><w:wrap 
anchorx="page" type = "topandbottom"></w:wrap></v:shape><![endif]--><![if !vml]><img width=328 height=227
 src="./Writing%20Your%20Own%20Widget_files/image006.jpg" v:shapes="_x0000_s1027"><![endif]><!--[if gte vml 1]></o:wrapblock><![endif]--><BR 
style="mso-ignore: vglayout" clear=all><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></P><BR 
style="mso-ignore: vglayout" clear=all>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><B 
style="mso-bidi-font-weight: normal">A TableTree in a Shell<o:p></o:p></B></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">static</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
main(String [] args) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Shell shell = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Shell();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Image image = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Image(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
20, 20);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Color red = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Color(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">null</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
255, 0, 0);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>GC gc = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
GC(image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>gc.setBackground(red);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>gc.fillRectangle(image.getBounds());<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>gc.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>red.dispose();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>TableTree tableTree = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TableTree(shell, SWT.BORDER);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>tableTree.setSize(320, 200);</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: maroon; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Table table = 
tableTree.getTable();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>table.setHeaderVisible(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">true</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>table.setLinesVisible(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">true</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
col = 0; col &lt; 3; col++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>TableColumn column = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TableColumn(table, SWT.NONE, col);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>column.setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Column 
"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
+ col);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>column.setWidth(100);</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: maroon; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
iRoot = 0; iRoot &lt; 8; iRoot++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>TableTreeItem root = 
</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TableTreeItem(tableTree, SWT.NONE);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>root.setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Root 
"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
+ iRoot);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
iBranch = 0; iBranch &lt; 4; iBranch++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>TableTreeItem branch = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TableTreeItem(root, SWT.NONE);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>branch.setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Branch 
"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
+ iBranch);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
col = 1; col &lt; 3; col++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>branch.setImage(col, image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>branch.setText(col, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"R"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+iRoot+</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"B"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+iBranch+</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"C"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+col);</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
iLeaf = 0; iLeaf &lt; 4; iLeaf++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>TableTreeItem leaf = </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
TableTreeItem(branch, SWT.NONE);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>leaf.setText(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Leaf 
"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
+ iLeaf);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">for</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">int</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
col = 1; col &lt; 3; col++) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>leaf.setImage(col, image);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>leaf.setText(col, </SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"R"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+iRoot+</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"B"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+iBranch+</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"L"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+iLeaf+</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">C"</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">+col);<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>shell.pack(); 
shell.open();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Display display = 
shell.getDisplay();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">while</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(!shell.isDisposed()) {<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">if</SPAN><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
(!display.readAndDispatch()) display.sleep();<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: .25in .5in .75in 1.0in 1.25in 1.5in 1.75in 2.0in"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">}<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<H3 style="MARGIN-LEFT: 25.5pt"><A name=_Toc506634635></A><A 
name=_Toc496069428></A><A name=_Toc496069785><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-bookmark: _Toc506634635">Subclassing Widgets 
Directly</SPAN></SPAN></A></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt; mso-list: skip"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">In 
extreme circumstances, you may need to subclass a widget other than <I 
style="mso-bidi-font-style: normal">Canvas</I> or <I 
style="mso-bidi-font-style: normal">Composite</I>. We recommend against doing 
this unless all other avenues have been explored and exhausted. Try to wrap the 
widget first, before subclassing it. Here is why:</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Subclasses may inherit a lot of API that makes no sense, 
and must be overridden. In Java, you cannot override a method and change the 
return type; therefore you cannot reimplement some methods.</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Subclassing is typically not the safest way to extend a 
class that you do not own. For a simplified list of the common arguments, see 
the article by <STRONG><SPAN style="FONT-WEIGHT: normal">Bill Venners 
</SPAN></STRONG>in the Nov '98 issue of <I 
style="mso-bidi-font-style: normal">Java World</I> called <I 
style="mso-bidi-font-style: normal">“Inheritance versus composition: Which one 
should you choose?”</I> at: </SPAN></SPAN><A 
href="http://www.javaworld.com/javaworld/jw-11-1998/jw-11-techniques.html"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">http://www.javaworld.com/javaworld/jw-11-1998/jw-11-techniques.html</SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Widget subclasses are almost certainly guaranteed to be 
platform-specific unless great care is taken to ensure that they work on all 
platforms.</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Subclassed widgets can be affected by changes in the 
non-API implementation of the superclass.</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Subclassing may cause bad system-level bugs, and runs 
the risk of leaking resources. For example, if a subclass reimplements a method 
without making certain that dispose code from the superclass method is still 
called, then the new method will leak system resources.</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Binary incompatibility across releases becomes possible. 
If a method signature or field name changes, or new methods or fields are added, 
there may be a name conflict in the widget subclass. Only <I 
style="mso-bidi-font-style: normal">Canvas</I> and <I 
style="mso-bidi-font-style: normal">Composite </I>are guaranteed not to have 
name conflicts in future releases.</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; mso-list: l0 level1 lfo2"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>See any paper by Leonid <SPAN 
style="COLOR: black">Mikhajlov on the <I 
style="mso-bidi-font-style: normal">“Fragile Base Class Problem”</I>. He has a 
summary of this problem on his web page at: </SPAN></SPAN></SPAN><A 
href="http://www.abo.fi/~lmikhajl/"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">http://www.abo.fi/~lmikhajl/</SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Consider the example of <I 
style="mso-bidi-font-style: normal">TableTree</I>. We chose to wrap <I 
style="mso-bidi-font-style: normal">Table</I> rather than subclass it. The best 
test is to ask whether a <I style="mso-bidi-font-style: normal">TableTree</I> 
‘is-a’ <I style="mso-bidi-font-style: normal">Table</I>. The answer is 
definitely not – we have simply chosen to implement <I 
style="mso-bidi-font-style: normal">TableTree</I> using <I 
style="mso-bidi-font-style: normal">Table</I>. We cannot talk about the ‘rows’ 
of a <I style="mso-bidi-font-style: normal">TableTree</I>, or index into a <I 
style="mso-bidi-font-style: normal">TableTree</I>; and the first column of the 
<I style="mso-bidi-font-style: normal">Table</I> is reserved for the ‘tree’. 
Many of the operations for a <I style="mso-bidi-font-style: normal">Table</I> do 
not make sense for a <I style="mso-bidi-font-style: normal">TableTree</I>, for 
example <B style="mso-bidi-font-weight: normal">getSelectionIndex()</B> and <B 
style="mso-bidi-font-weight: normal">getTopIndex()</B>.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Subclassing <I 
style="mso-bidi-font-style: normal">Canvas</I> or <I 
style="mso-bidi-font-style: normal">Composite</I> is the best way to ensure that 
your widget works on all SWT platforms. The ‘is-a’ test in this case tests 
whether your widget is-a basic or compound widget. Subclassing anything else 
requires asking if the new widget<B style="mso-bidi-font-weight: normal"> is-an 
SWT native widget of the type being subclassed</B>. For example, a 100% Java 
portable <I style="mso-bidi-font-style: normal">PictureLabel</I> is not an SWT 
native <I style="mso-bidi-font-style: normal">Label</I>.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">When subclassing anything other than <I 
style="mso-bidi-font-style: normal">Composite</I> or <I 
style="mso-bidi-font-style: normal">Canvas</I> you must override the method <B 
style="mso-bidi-font-weight: normal">protected void checkSubclass()</B> to do 
nothing. Make sure you read the method comment before overriding 
it.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><B 
style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 14pt; mso-bidi-font-size: 10.0pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></B></SPAN></SPAN></P>
<H3 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><A name=_Toc506634636>Wrapping a Native 
Widget</A></SPAN></SPAN></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Sometimes, an application requires a native 
widget that is not provided by SWT. This may be a platform widget, or a third 
party widget, or any other widget in a shared library. In this section, we will 
describe how to interface to a native widget on the Windows and Motif platforms. 
This section assumes that you have some understanding of the <I 
style="mso-bidi-font-style: normal">Java Native Interface</I>, or <B 
style="mso-bidi-font-weight: normal">JNI</B>. Two good books on JNI 
are:</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l1 level1 lfo6"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]><I 
style="mso-bidi-font-style: normal">“The Java Native Interface, Programmer’s 
Guide and Specification”</I> by Sheng Liang</SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 43.5pt; TEXT-INDENT: -0.25in; tab-stops: list .25in; mso-list: l1 level1 lfo6"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportLists]><SPAN 
style="FONT-FAMILY: Symbol">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN><![endif]><I 
style="mso-bidi-font-style: normal">“Essential JNI, Java Native Interface”</I> 
by Rob Gordon</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">This section also assumes that you have done 
some platform programming before, and are proficient in C and in the use of 
makefiles. You must have platform documentation available, such as the MSDN 
Library on Windows, and Motif 2.1 documentation or ‘man pages’ for your Motif 
Unix/Linux system. If you are programming to a third party widget, you will need 
to know its API.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">In 
this section, we will create a shared library and load it 
using:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>System.loadLibrary(<SPAN 
style="COLOR: teal">"mywidget"</SPAN>);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">On 
Windows, this loads a Dynamic Link Library or DLL file called 
“mywidget.dll”.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">On 
Motif, this loads a Shared Object Library or SO file called 
“libmywidget.so”.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">For our example, we will be building a 
widget we will call <I style="mso-bidi-font-style: normal">Spinner</I>. On 
Windows, the native widget we will use is called an <I 
style="mso-bidi-font-style: normal">UpDown</I> control, and on Motif we will be 
using an <I style="mso-bidi-font-style: normal">XmSimpleSpinBox</I>. They look 
like this:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt"><!--[if gte vml 1]><o:wrapblock><v:shape 
id=_x0000_s1032 
style="MARGIN-TOP: 0px; Z-INDEX: 2; LEFT: 0px; MARGIN-LEFT: 59.55pt; WIDTH: 134.25pt; POSITION: absolute; HEIGHT: 44.25pt; TEXT-ALIGN: left; mso-position-horizontal-relative: text; mso-position-vertical-relative: text; mso-position-horizontal: absolute; mso-position-vertical: top" 
type = "#_x0000_t75" coordsize = "21600,21600"><v:imagedata o:title="" src = 
"./Writing%20Your%20Own%20Widget_files/image007.png"></v:imagedata><w:wrap 
anchorx="page" type = "topandbottom"></w:wrap></v:shape><![if gte mso 9]><o:OLEObject Type="Embed" ProgID="PBrush"
  ShapeID="_x0000_s1032" DrawAspect="Content" ObjectID="_1053168692">
 </o:OLEObject>
 <![endif]><![endif]--><![if !vml]><span style='mso-ignore:vglayout'>
 <table cellpadding=0 cellspacing=0 align=left>
  <tr>
   <td width=79 height=0></td>
  </tr>
  <tr>
   <td></td>
   <td><img width=179 height=59
   src="./Writing%20Your%20Own%20Widget_files/image008.jpg" v:shapes="_x0000_s1032"></td>
  </tr>
 </table>
 </span><![endif]><!--[if gte vml 1]></o:wrapblock><![endif]--><BR 
style="mso-ignore: vglayout" clear=all><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></SPAN></SPAN>
<P></P><BR style="mso-ignore: vglayout" clear=all>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Our <I 
style="mso-bidi-font-style: normal">Spinner</I> will be numeric, and we want to 
be able to set and get the maximum and minimum value, as well as the current 
value (which we will call the ‘selection’, to conform to SWT convention). We 
also want to be able to set the font. When the user clicks on one of the arrows, 
we want to notify listeners that the selection has changed, so we will need to 
implement a selection listener. The test code for our widget looks something 
like this (the full source listing for class <I 
style="mso-bidi-font-style: normal">SpinnerTest</I> is in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixB.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix B: SpinnerTest and 
Spinner</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">):</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">final</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Spinner spinner = </SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Spinner(shell, 0);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>spinner.setMaximum(999);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>spinner.setSelection(500);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>spinner.setMinimum(100);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>Font font = </SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
Font(display, </SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: teal; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">"Courier"</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">, 
20, SWT.NORMAL);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>spinner.setFont(font);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; 
</SPAN>spinner.addSelectionListener(</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">new</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
SelectionAdapter() {<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN></SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">public</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
</SPAN></SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: navy; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'">void</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"> 
widgetSelected(SelectionEvent e) {<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>System.out.println(spinner.getSelection());<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>});<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The next step is to write the API in Java. 
Since we know we will be writing the native interface file (we’ll call it 
“spinner.c”) twice – once on Windows and once on Motif – we try to write the 
Java code only once so that it is easier to maintain. We start by creating a 
subclass of <I style="mso-bidi-font-style: normal">Composite</I>, and we load 
the shared library in a static initializer:</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN>static<SPAN style="COLOR: black"> 
{<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>System.loadLibrary(</SPAN><SPAN style="COLOR: teal">"spinner"</SPAN><SPAN 
style="COLOR: black">);<SPAN style="mso-tab-count: 1"> 
</SPAN><o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">This will load a file called “spinner.dll” 
on Windows, and “libspinner.so” on Motif. Since we know that creating a widget 
returns a ‘handle’ on both platforms, we define an instance variable to hold the 
handle:</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">int</SPAN> handleSpinner;</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; COLOR: black; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Since we will be providing a listener, we 
know that we will need to map this handle back to the Java <I 
style="mso-bidi-font-style: normal">Spinner</I> object when the platform calls 
in to Java to notify us of the event. So we create a static <I 
style="mso-bidi-font-style: normal">Hashtable</I> that will contain <I 
style="mso-bidi-font-style: normal">Spinner</I> handles as keys and <I 
style="mso-bidi-font-style: normal">Spinner</I> objects as values: 
</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> Hashtable table = <SPAN 
style="COLOR: navy">new</SPAN> Hashtable();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Now we write the constructor. We add the 
handle to the table after the widget is created, and we remove it when the 
widget is destroyed. Note that we don’t create the widget in Java. We will 
create it later, in the native <B 
style="mso-bidi-font-weight: normal">createControl</B> method. We also forward 
all <B style="mso-bidi-font-weight: normal">controlResized</B> and <B 
style="mso-bidi-font-weight: normal">focusGained</B> events to the native <B 
style="mso-bidi-font-weight: normal">resizeControl</B> and <B 
style="mso-bidi-font-weight: normal">setFocus</B> methods, and set our font to 
the default font using the native <B 
style="mso-bidi-font-weight: normal">setFont</B> method. There is one more thing 
to explain in the constructor. You may notice that we are actually creating two 
widgets: a <I style="mso-bidi-font-style: normal">Composite</I> parent named <B 
style="mso-bidi-font-weight: normal">handle</B> in the call to super, and a <I 
style="mso-bidi-font-style: normal">Spinner</I> child named <B 
style="mso-bidi-font-weight: normal">handleSpinner</B> in the call to <B 
style="mso-bidi-font-weight: normal">createControl</B>. This wraps the native 
control in an SWT parent, allowing it to participate in the SWT 
system.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> Spinner(Composite parent, <SPAN 
style="COLOR: navy">int</SPAN> style) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">super</SPAN>(parent, style);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">int</SPAN> handleParent = handle;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="mso-tab-count: 1">&nbsp;&nbsp; </SPAN>handleSpinner = 
createControl(handleParent);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (handleSpinner == 0) 
SWT.error(SWT.ERROR_NO_HANDLES);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>table.put(<SPAN 
style="COLOR: navy">new</SPAN> Integer(handleSpinner), <SPAN 
style="COLOR: navy">this</SPAN>);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addDisposeListener(<SPAN style="COLOR: navy">new</SPAN> DisposeListener() 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> widgetDisposed(DisposeEvent e) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Spinner.<SPAN 
style="COLOR: navy">this</SPAN>.widgetDisposed(e);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addControlListener(<SPAN style="COLOR: navy">new</SPAN> ControlAdapter() 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> controlResized(ControlEvent e) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Spinner.<SPAN style="COLOR: navy">this</SPAN>.controlResized(e);<SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>addFocusListener(<SPAN 
style="COLOR: navy">new</SPAN> FocusAdapter() {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> focusGained(FocusEvent e) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>Spinner.<SPAN style="COLOR: navy">this</SPAN>.focusGained(e);<SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>});</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Font font = 
getFont();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setFont(handleSpinner, 
font.handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN><SPAN style="COLOR: black"> 
</SPAN><SPAN style="COLOR: navy">void</SPAN><SPAN style="COLOR: black"> 
widgetDisposed(DisposeEvent e) {<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>table.remove(</SPAN><SPAN style="COLOR: navy">new</SPAN> 
Integer(handleSpinner)<SPAN 
style="COLOR: black">);<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>handleSpinner = 
0;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN><o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN></SPAN><SPAN 
style="COLOR: navy">public</SPAN><SPAN style="COLOR: black"> </SPAN><SPAN 
style="COLOR: navy">void</SPAN><SPAN style="COLOR: black"> 
controlResized(ControlEvent e) {<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Rectangle rect = 
getClientArea();<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>resizeControl(handleSpinner, rect.x, rect.y, rect.width, 
rect.height);<SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: black"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>}<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> focusGained(FocusEvent e) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setFocus(handleSpinner);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: navy"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="COLOR: navy"><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> createControl(<SPAN 
style="COLOR: navy">int</SPAN> handleParent);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> resizeControl(<SPAN 
style="COLOR: navy">int</SPAN> handle, <SPAN style="COLOR: navy">int</SPAN> x, 
<SPAN style="COLOR: navy">int</SPAN> y, <SPAN style="COLOR: navy">int</SPAN> 
width, <SPAN style="COLOR: navy">int</SPAN> height);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setFocus(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">We 
write the <B style="mso-bidi-font-weight: normal">setFont</B> API method to call 
the native <B style="mso-bidi-font-weight: normal">setFont</B> method with the 
<I style="mso-bidi-font-style: normal">Spinner</I> handle and the font handle. 
Call <B style="mso-bidi-font-weight: normal">super.setFont</B> because some 
superclasses need to set fonts for things like titles – it will not actually be 
needed in this case, but by convention widgets usually inform their superclass 
of font and color changes.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setFont(Font font) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">super</SPAN>.setFont(font);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">int</SPAN> hFont = 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (font != <SPAN style="COLOR: navy">null</SPAN>) 
hFont = font.handle;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>setFont(handleSpinner, 
hFont);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setFont(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> hFont);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">In 
a similar manner, we write the remaining set and get API methods and declare the 
corresponding native methods. The <B 
style="mso-bidi-font-weight: normal">checkWidget</B> method simply checks that 
the widget is still valid.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setSelection(<SPAN 
style="COLOR: navy">int</SPAN> selection) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setPosition(handleSpinner, selection);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getSelection() {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">return</SPAN> getPosition(handleSpinner);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMaximum(<SPAN style="COLOR: navy">int</SPAN> 
maximum) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setMaximum(handleSpinner, maximum);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMaximum() {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">return</SPAN> getMaximum(handleSpinner);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMinimum(<SPAN style="COLOR: navy">int</SPAN> 
minimum) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>setMinimum(handleSpinner, minimum);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMinimum() {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">return</SPAN> getMinimum(handleSpinner);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setPosition(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> position);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getPosition(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMaximum(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> max);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMaximum(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMinimum(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> min);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMinimum(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">As 
with all widgets we implement, we need to provide a <B 
style="mso-bidi-font-weight: normal">computeSize</B> method to compute the 
preferred size of the widget. This one also forwards to a native to do the work. 
In this case, the native needs to return two integers (width and height) so we 
use an int array of size 2 to hold the returned values:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> Point computeSize(<SPAN 
style="COLOR: navy">int</SPAN> wHint, <SPAN style="COLOR: navy">int</SPAN> 
hHint, <SPAN style="COLOR: navy">boolean</SPAN> changed) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>checkWidget();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">int</SPAN> [] result = <SPAN style="COLOR: navy">new</SPAN> 
<SPAN style="COLOR: navy">int</SPAN> [2];</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>computeSize(handleSpinner, result);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (wHint != SWT.DEFAULT) result [0] = 
wHint;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (hHint != SWT.DEFAULT) result [1] = 
hHint;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">int</SPAN> border = getBorderWidth();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">return</SPAN> <SPAN style="COLOR: navy">new</SPAN> 
Point(result [0] + border * 2, result [1] + border * 2);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> computeSize(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> [] result);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Finally, we need to define the listener 
interface. The <B style="mso-bidi-font-weight: normal">addSelectionListener</B> 
method simply adds an <B style="mso-bidi-font-weight: normal">SWT.Selection</B> 
listener using the SWT low-level listener mechanism. The <B 
style="mso-bidi-font-weight: normal">widgetSelected</B> method is special. It is 
the entry point into Java when the event occurs. In other words, we will be 
calling this method from C. When the method is called, it determines the <I 
style="mso-bidi-font-style: normal">Spinner</I> for the event by looking in the 
table, and then forwards to the SWT event mechanism by calling <B 
style="mso-bidi-font-weight: normal">notifyListeners</B>.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">public</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> addSelectionListener(SelectionListener listener) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (listener == <SPAN 
style="COLOR: navy">null</SPAN>) <SPAN style="COLOR: navy">throw</SPAN> <SPAN 
style="COLOR: navy">new</SPAN> 
SWTError(SWT.ERROR_NULL_ARGUMENT);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>addListener(SWT.Selection, <SPAN style="COLOR: navy">new</SPAN> 
TypedListener(listener));</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> widgetSelected(<SPAN 
style="COLOR: navy">int</SPAN> handle) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>Spinner spinner = 
(Spinner) table.get(<SPAN style="COLOR: navy">new</SPAN> 
Integer(handle));</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="COLOR: navy">if</SPAN> (spinner == <SPAN style="COLOR: navy">null</SPAN>) 
<SPAN style="COLOR: navy">return</SPAN>;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>spinner.notifyListeners(SWT.Selection, <SPAN 
style="COLOR: navy">new</SPAN> Event());</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Notice that the <I 
style="mso-bidi-font-style: normal">Event</I> object that we create for the <I 
style="mso-bidi-font-style: normal">Spinner</I> selection listener does not need 
to have any fields set. If you need to return more information for your event, 
such as the x and y coordinates of the event or the key that was pressed, then 
your call-in method (<B style="mso-bidi-font-weight: normal">widgetSelected</B>, 
in this case) will have to have more parameters than just the 
handle.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">One more thing to note before we write the C 
code. All of our native methods have been defined as static methods, and all of 
them have the handle passed as the first parameter. This consistency makes it 
easier to write the C native code.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The full source code listing for the Java <I 
style="mso-bidi-font-style: normal">Spinner</I> class is in in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixB.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix B: SpinnerTest and 
Spinner</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">. 
Now we need to write the native interface methods in C. First we will write the 
native interface for Windows, and then we will write it for 
Motif.</SPAN></SPAN></P>
<H3 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><A name=_Toc506634637>Windows Native 
Code</A></SPAN></SPAN></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Now we really get into JNI and platform 
programming. We will write a C file called “spinner.c”. It needs to implement 
the following Java methods from class spinner.<I 
style="mso-bidi-font-style: normal">Spinner</I>:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> createControl(<SPAN 
style="COLOR: navy">int</SPAN> handleParent);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> computeSize(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> [] result);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> resizeControl(<SPAN 
style="COLOR: navy">int</SPAN> handle, <SPAN style="COLOR: navy">int</SPAN> x, 
<SPAN style="COLOR: navy">int</SPAN> y, <SPAN style="COLOR: navy">int</SPAN> 
width, <SPAN style="COLOR: navy">int</SPAN> height);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setPosition(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> position);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getPosition(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMaximum(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> max);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMaximum(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setMinimum(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> min);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">int</SPAN> getMinimum(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setFont(<SPAN style="COLOR: navy">int</SPAN> 
handle, <SPAN style="COLOR: navy">int</SPAN> hFont);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">final</SPAN> <SPAN style="COLOR: navy">native</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> setFocus(<SPAN style="COLOR: navy">int</SPAN> 
handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">It 
also needs to call in to the following Java method when the selection 
changes:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="COLOR: navy">static</SPAN> <SPAN 
style="COLOR: navy">void</SPAN> widgetSelected(<SPAN 
style="COLOR: navy">int</SPAN> handle);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The first thing we need to do is to include 
at least these three files. Your control may require additional 
files.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include &lt;jni.h&gt;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include &lt;windows.h&gt;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include 
&lt;commctrl.h&gt;</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">We 
will start with the <B style="mso-bidi-font-weight: normal">createControl</B> 
method. Recall that we decided to use a Windows <I 
style="mso-bidi-font-style: normal">UpDown</I> control. If we create an <I 
style="mso-bidi-font-style: normal">Edit</I> control first, and then create the 
<I style="mso-bidi-font-style: normal">UpDown</I> control with 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; LAYOUT-GRID-MODE: line; mso-bidi-font-size: 10.0pt">UDS_AUTOBUDDY 
</SPAN><SPAN style="LAYOUT-GRID-MODE: line">and</SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; LAYOUT-GRID-MODE: line; mso-bidi-font-size: 10.0pt"> 
UDS_SETBUDDYINT</SPAN><SPAN style="LAYOUT-GRID-MODE: line"> flags set, then the 
<I style="mso-bidi-font-style: normal">Edit</I> control will automatically be 
associated with the <I style="mso-bidi-font-style: normal">UpDown</I> control’s 
arrows. We can retrieve the <I style="mso-bidi-font-style: normal">Edit</I> 
control by sending </SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; LAYOUT-GRID-MODE: line; mso-bidi-font-size: 10.0pt">UDM_GETBUDDY</SPAN><SPAN 
style="LAYOUT-GRID-MODE: line"> to the <I 
style="mso-bidi-font-style: normal">UpDown </I>control. We will show you the 
complete <B style="mso-bidi-font-weight: normal">createControl</B> method after 
we explain how to call in to Java.<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="LAYOUT-GRID-MODE: line"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><B 
style="mso-bidi-font-weight: normal"><SPAN 
style="LAYOUT-GRID-MODE: line">Calling in to 
Java:<o:p></o:p></SPAN></B></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The first time we ever call <B 
style="mso-bidi-font-weight: normal">createControl</B>, we initialize some 
static variables:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">static DWORD tlsIndex = 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">static jobject javaClass;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">static jmethodID mid;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">static WNDPROC oldProc;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">We 
use one of them (<B style="mso-bidi-font-weight: normal">tlsIndex</B>) as a flag 
to make sure we initialize them only once. Here is the initialization code from 
<B style="mso-bidi-font-weight: normal">createControl</B>:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (tlsIndex == 0) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>tlsIndex = 
TlsAlloc();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if (tlsIndex == -1) 
return (jint) 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>javaClass = 
(*env)-&gt;NewGlobalRef(env, (jobject) that);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>mid = 
(*env)-&gt;GetStaticMethodID(env, (jobject) that, "widgetSelected", 
"(I)V");</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oldProc = (WNDPROC) 
GetWindowLong((HWND) hwndParent, GWL_WNDPROC);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>TlsSetValue(tlsIndex, (LPVOID) env);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">These variables are needed to implement 
call-in. As this is important code, we will describe each variable that is 
initialized:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>tlsIndex = 
TlsAlloc();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if (tlsIndex == -1) 
return (jint) 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>…</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>TlsSetValue(tlsIndex, (LPVOID) env);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Here, we allocate a Windows <I 
style="mso-bidi-font-style: normal">Thread Local Storage</I> (TLS) index, and 
then (for each <I style="mso-bidi-font-style: normal">Spinner</I>) we use the 
TLS index to store a pointer called <B 
style="mso-bidi-font-weight: normal">env</B>. Notice that <B 
style="mso-bidi-font-weight: normal">JNIEnv *env</B> is the first parameter 
passed to every JNI method. It is a pointer to a function table, and it is only 
valid in the thread associated with it. We know that we need to call in to Java 
when the user changes the <I style="mso-bidi-font-style: normal">Spinner</I> 
value, and that we will be calling in from a Windows ‘window procedure’ or 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN>. The 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> does not know 
about the Java environment. When the </SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> is invoked, 
we will need ‘env’. So we have to save it on creation so that we have it when we 
need to call in. We also need the class and method ID to call in to, and we can 
store these in statics because they will be the same across all 
threads:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>javaClass = 
(*env)-&gt;NewGlobalRef(env, (jobject) that);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>mid = 
(*env)-&gt;GetStaticMethodID(env, (jobject) that, "widgetSelected", 
"(I)V");</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">When the user changes the <I 
style="mso-bidi-font-style: normal">Spinner</I> value, the <I 
style="mso-bidi-font-style: normal">UpDown</I> sends a </SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WM_VSCROLL</SPAN> to its 
parent control.<SPAN style="mso-spacerun: yes">&nbsp; </SPAN>In order to see 
this message, it is necessary to “subclass the window proc” of the parent.<SPAN 
style="mso-spacerun: yes">&nbsp; </SPAN>In Windows, this means replacing the 
window proc of the parent with our own window proc.<SPAN 
style="mso-spacerun: yes">&nbsp; </SPAN>The new </SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> will look for 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WM_VSCROLL</SPAN> (in order 
to notify the Java code that the <I 
style="mso-bidi-font-style: normal">Spinner</I> value has been changed) and then 
call the previous </SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> to handle 
other messages that our control is not interested in.<SPAN 
style="mso-spacerun: yes">&nbsp; </SPAN>Note that it is important to call the 
previous </SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN>, or the 
parent window will not behave properly (i.e. it will not paint or resize, etc.) 
We store the previous </SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> in 
oldProc:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oldProc = (WNDPROC) 
GetWindowLong((HWND) hwndParent, GWL_WNDPROC);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The last line in <B 
style="mso-bidi-font-weight: normal">createControl</B> before we return the new 
handle installs a </SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WNDPROC</SPAN> called <B 
style="mso-bidi-font-weight: normal">WindowProc</B>:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SetWindowLong((HWND) hwndParent, GWL_WNDPROC, (long) 
WindowProc);</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Here is the code for our <B 
style="mso-bidi-font-weight: normal">WindowProc</B>. First we retrieve <B 
style="mso-bidi-font-weight: normal">env</B> from Thread Local Storage and check 
if an exception has occurred. Then we see if this is an “<I 
style="mso-bidi-font-style: normal">UpDown</I> value changed” event (a 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">WM_VSCROLL<SPAN 
style="LAYOUT-GRID-MODE: line"> message with SB_THUMBPOSITION</SPAN></SPAN> in 
the low order bits of <B style="mso-bidi-font-weight: normal">wParam</B>). If it 
is, we use <B style="mso-bidi-font-weight: normal">env</B> to call in to the 
Java static method called “widgetSelected”, passing <B 
style="mso-bidi-font-weight: normal">lParam</B> as the handle of the <I 
style="mso-bidi-font-style: normal">UpDown</I> control. Otherwise, we just 
forward to the parent control’s window procedure.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">LRESULT CALLBACK WindowProc(HWND hwnd, UINT 
msg, WPARAM wParam, LPARAM lParam) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>JNIEnv *env = TlsGetValue(tlsIndex);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (env != NULL) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>/* If an exception has 
already occurred,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="mso-spacerun: yes">&nbsp;</SPAN>* allow the stack to unwind so that 
the</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN 
style="mso-spacerun: yes">&nbsp;</SPAN>* exception will be thrown in Java. 
*/</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if 
((*env)-&gt;ExceptionOccurred(env)) return 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>switch (msg) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>case WM_VSCROLL:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>if ((wParam &amp; 0xFFFF) == SB_THUMBPOSITION) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>return (LRESULT) ((*env)-&gt;CallStaticIntMethod(env, javaClass, mid, 
lParam));</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>break;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>return CallWindowProc(oldProc, hwnd, msg, wParam, lParam);<SPAN 
style="mso-tab-count: 1"> </SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">And finally, here is the code for <B 
style="mso-bidi-font-weight: normal">createControl</B>:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">JNIEXPORT jint JNICALL 
Java_spinner_Spinner_createControl</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-spacerun: yes">&nbsp; 
</SPAN>(JNIEnv *env, jclass that, jint hwndParent)</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HWND hwndText, hwndUpDown;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (tlsIndex == 0) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>tlsIndex = 
TlsAlloc();</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if (tlsIndex == -1) 
return (jint) 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>javaClass = 
(*env)-&gt;NewGlobalRef(env, (jobject) that);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>mid = 
(*env)-&gt;GetStaticMethodID(env, (jobject) that, "widgetSelected", 
"(I)V");</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>oldProc = (WNDPROC) 
GetWindowLong((HWND) hwndParent, GWL_WNDPROC);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>TlsSetValue(tlsIndex, (LPVOID) env);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>hwndText = CreateWindowEx(</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>WS_EX_CLIENTEDGE,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>"EDIT",</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>NULL,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>WS_CHILD | WS_VISIBLE | 
WS_TABSTOP,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>0, 0, 0, 
0,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>(HWND) 
hwndParent,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>0,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>GetModuleHandle(NULL),</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>NULL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (hwndText == 0) return (jint) 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>hwndUpDown = CreateWindowEx(</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>0,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>UPDOWN_CLASS,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>NULL,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>WS_CHILD | WS_VISIBLE | 
UDS_AUTOBUDDY | UDS_SETBUDDYINT | UDS_ALIGNRIGHT | UDS_ARROWKEYS | 
UDS_NOTHOUSANDS,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>0, 0, 0, 
0,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>(HWND) 
hwndParent,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>0,</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>GetModuleHandle(NULL),</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>NULL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (hwndUpDown == 0) return (jint) 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SetWindowLong((HWND) hwndParent, GWL_WNDPROC, (long) 
WindowProc);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>return (jint) hwndUpDown;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The set and get methods we need to implement 
are much simpler than the <B 
style="mso-bidi-font-weight: normal">createControl</B> and <B 
style="mso-bidi-font-weight: normal">WindowProc</B> methods. Here are <B 
style="mso-bidi-font-weight: normal">setPosition</B> and <B 
style="mso-bidi-font-weight: normal">getPosition</B>. They simply send the 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">UDM_SETPOS</SPAN> or 
</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">UDM_GETPOS</SPAN> message to 
the <I style="mso-bidi-font-style: normal">UpDown</I> handle. The remaining set 
and get methods are similar, and they are listed in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixC.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix C: Spinner for 
Windows</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">. 
The only interesting one is <B style="mso-bidi-font-weight: normal">setFont</B>, 
which sets the font of the <I style="mso-bidi-font-style: normal">Edit</I> 
control, which it gets by sending </SPAN></SPAN><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="FONT-SIZE: 11pt; mso-bidi-font-size: 10.0pt">UDM_GETBUDDY</SPAN> to the 
<I style="mso-bidi-font-style: normal">UpDown</I> handle.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">JNIEXPORT void JNICALL 
Java_spinner_Spinner_setPosition</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-spacerun: yes">&nbsp; 
</SPAN>(JNIEnv *env, jclass that, jint hwnd, jint position)</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SendMessage((HWND) hwnd, UDM_SETPOS, 0, position);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">JNIEXPORT jint JNICALL 
Java_spinner_Spinner_getPosition</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-spacerun: yes">&nbsp; 
</SPAN>(JNIEnv *env, jclass that, jint hwnd)</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>return (jint) SendMessage((HWND) hwnd, UDM_GETPOS, 0, 0) &amp; 
0xFFFF;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The <B 
style="mso-bidi-font-weight: normal">resizeControl</B> method positions the <I 
style="mso-bidi-font-style: normal">Edit</I> control (the buddy) and the <I 
style="mso-bidi-font-style: normal">UpDown</I> (the arrow buttons) using the 
specified coordinates and size. For the width of the arrow buttons, we use the 
width of a typical vertical scrollbar.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">JNIEXPORT void JNICALL 
Java_spinner_Spinner_resizeControl</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-spacerun: yes">&nbsp; 
</SPAN>(JNIEnv *env, jclass that, jint hwndUpDown, jint x, jint y, jint width, 
jint height)</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HWND hwndText = (HWND) SendMessage((HWND) hwndUpDown, UDM_GETBUDDY, 0, 
0);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>UINT flags = SWP_NOZORDER | SWP_DRAWFRAME | 
SWP_NOACTIVATE;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>int upDownWidth = GetSystemMetrics(SM_CXVSCROLL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SetWindowPos(hwndText, (HWND) 0, x, y, width - upDownWidth + 2, height, 
flags);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SetWindowPos((HWND) hwndUpDown, (HWND) 0, x + width - upDownWidth, y, 
upDownWidth, height, flags);<SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The final method we need to write is <B 
style="mso-bidi-font-weight: normal">computeSize</B>. This is typically a 
complex method, and our <B style="mso-bidi-font-weight: normal">computeSize</B> 
is no exception. We construct a string of digits the same length as the maximum 
value, and measure its height and width if drawn in the <I 
style="mso-bidi-font-style: normal">Edit</I> control’s font. We make sure our 
control is no shorter than a combo box, and we add in text margins, and the 
width of the arrow buttons. In order to return the computed height and width 
values in the <B style="mso-bidi-font-weight: normal">result</B> array, we need 
to lock down the array using the JNI function <B 
style="mso-bidi-font-weight: normal">GetIntArrayElements</B> to protect it from 
moving as a result of garbage collection.</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">JNIEXPORT void JNICALL 
Java_spinner_Spinner_computeSize</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-spacerun: yes">&nbsp; 
</SPAN>(JNIEnv *env, jclass that, jint hwndUpDown, jintArray result) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>int width, height;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>TEXTMETRIC tm;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>RECT rect;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>int comboHeight;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>int max, digits;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>UINT flags;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>char text[64];</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HWND hwndText = (HWND) SendMessage((HWND) hwndUpDown, UDM_GETBUDDY, 0, 
0);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HDC hDC = GetDC(hwndText);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HFONT oldFont = 0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>HFONT newFont = (HFONT) SendMessage(hwndText, WM_GETFONT, 0, 
0);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>jint *result1 = NULL;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>result1 = (*env)-&gt;GetIntArrayElements(env, result, 
NULL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (newFont != 0) oldFont = SelectObject(hDC, newFont);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>GetTextMetrics(hDC, &amp;tm);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>comboHeight = GetSystemMetrics(SM_CYVSCROLL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>height = (comboHeight &gt; tm.tmHeight) ? comboHeight : 
tm.tmHeight;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>max = SendMessage((HWND) hwndUpDown, UDM_GETRANGE, 0, 0) &amp; 
0xFFFF;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (max &gt; 0) {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>digits = 
0;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>while (max &gt; 0) 
{</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>text[digits] = '0';</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>max /= 10;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>digits++;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>flags = DT_CALCRECT | 
DT_EDITCONTROL | DT_NOPREFIX;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DrawText(hDC, (LPCTSTR) 
text, digits, (LPRECT) &amp;rect, flags);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>width = rect.right - 
rect.left + 3;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>} else {</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN><SPAN 
style="mso-tab-count: 1">&nbsp; </SPAN>width = 10;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (newFont != 0) SelectObject(hDC, oldFont);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>ReleaseDC(hwndText, hDC);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>width += GetSystemMetrics(SM_CXVSCROLL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>SendMessage(hwndText, EM_GETRECT, 0, (LPARAM) 
&amp;rect);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>if (rect.top == 0) rect.top = 1; // windows bug fix</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>width += (rect.left + 1) * 2;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>height += (rect.top + 1) * 2;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>result1 [0] = width;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>result1 [1] = height;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>(*env)-&gt;ReleaseIntArrayElements(env, result, result1, 
0);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">}</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The full source listing for the Windows C 
code and makefile are in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixC.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix C: Spinner for 
Windows</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">. 
A batch file sets environment variables and calls make to create the DLL. 
Options for your compiler and linker may differ, but you will have to link in 
the win32 libs: comctl32.lib, user32.lib, and gdi32.lib.</SPAN></SPAN></P><SPAN 
style="FONT-SIZE: 12pt; FONT-FAMILY: 'Times New Roman'; mso-bidi-font-size: 10.0pt; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always; mso-special-character: line-break" 
clear=all></SPAN>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><o:p></o:p></SPAN></SPAN></P>
<H3 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><A name=_Toc506634638>Motif Native 
Code</A></SPAN></SPAN></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Now we need to write “spinner.c” for Motif. 
In this section, we will only point out the differences between the Motif 
“spinner.c” and the Windows one. The full source listing for the Motif C code 
and makefile are in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixD.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix D: Spinner for 
Motif</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">. 
A shell script sets environment variables and calls make.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The Motif equivalent to Thread Local Storage 
is called Thread-Specific Data (TSD), and its functions are defined in <B 
style="mso-bidi-font-weight: normal">pthread.h</B>. You will need to include at 
least the following files:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include &lt;jni.h&gt;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include 
&lt;Xm/XmAll.h&gt;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">#include &lt;pthread.h&gt;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">In 
order to store the <B style="mso-bidi-font-weight: normal">env</B> pointer in 
Thread-Specific Data, you first create a key:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">static pthread_key_t 
envKey;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>…</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN 
style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN>pthread_key_create(&amp;envKey, NULL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">and then you store into and retrieve from 
TSD as follows:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>pthread_setspecific(envKey, env);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>JNIEnv *env = (JNIEnv *) pthread_getspecific(envKey);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428">As 
you compare the Windows and Motif “spinner.c” listings, you will notice that the 
JNI portions of the code are identical: method templates, the use of JNI 
functions like <B style="mso-bidi-font-weight: normal">GetIntArrayElements</B> 
and <B style="mso-bidi-font-weight: normal">ReleaseIntArrayElements</B> for 
locking/releasing an array of integers, and <B 
style="mso-bidi-font-weight: normal">NewGlobalRef</B>, <B 
style="mso-bidi-font-weight: normal">GetStaticMethodID</B>, and <B 
style="mso-bidi-font-weight: normal">CallStaticIntMethod</B> to call in to 
Java.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The platform code, however, is completely 
different. On Motif, we create the native control using <B 
style="mso-bidi-font-weight: normal">XmCreateSimpleSpinBox</B>. The <I 
style="mso-bidi-font-style: normal">Text</I> widget is created automatically and 
stored in the <B style="mso-bidi-font-weight: normal">XmNtextField</B> resource 
of the <I style="mso-bidi-font-style: normal">SimpleSpinBox</I>. You can 
retrieve the <I style="mso-bidi-font-style: normal">Text</I> (for setting the 
font or computing the preferred size) using:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>Arg arg;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>Widget handleText;</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>XtSetArg(arg, XmNtextField, &amp;handleText);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>XtGetValues((Widget) handle, &amp;arg, 1);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">After creating the <I 
style="mso-bidi-font-style: normal">SimpleSpinBox</I>, we have to ‘manage’ it, 
and then we add an <B style="mso-bidi-font-weight: normal">XtCallbackProc</B> 
for the <B style="mso-bidi-font-weight: normal">valueChanged</B> 
callback:</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>XtManageChild(handleSpinBox);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><SPAN style="mso-tab-count: 1">&nbsp; 
</SPAN>XtAddCallback(handleSpinBox, XmNvalueChangedCallback, (XtCallbackProc) 
Callback, NULL);</SPAN></SPAN></P>
<P class=Code style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">The <B 
style="mso-bidi-font-weight: normal">computeSize</B> method is about as complex 
as the one for Windows, with height and width based on the maximum number of 
digits, with margins and shadows added in. Unfortunately, we had to guess a nice 
width for the arrow buttons, as this value could not be retrieved from a <I 
style="mso-bidi-font-style: normal">SimpleSpinBox</I>.<BR 
style="PAGE-BREAK-BEFORE: always; mso-special-character: line-break" 
clear=all></SPAN></SPAN></P>
<H3 style="MARGIN-LEFT: 25.5pt"><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"><A name=_Toc506634639>Mixing Native and Java 
Widgets</A></SPAN></SPAN></H3>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Occasionally it is necessary to implement a 
widget using a native widget on one platform, and emulating the widget behavior 
with Java code on another platform. SWT does this for several widgets; for 
example, <I style="mso-bidi-font-style: normal">Tree</I> is native on Windows, 
and emulated on Motif. All of the code to implement <I 
style="mso-bidi-font-style: normal">Tree</I> on Motif is shipped in the SWT jar 
for Motif. On Windows, the API for <I 
style="mso-bidi-font-style: normal">Tree</I> is shipped in the Windows SWT jar 
and the interface to the native control is shipped in the Windows SWT shared 
library (SWT.DLL).</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">When emulating a widget on one platform and 
wrapping a native or third party widget on another, it is important to subclass 
at the same point in the <I style="mso-bidi-font-style: normal">Widget</I> 
hierarchy on both platforms (i.e. <I 
style="mso-bidi-font-style: normal">Composite</I> or <I 
style="mso-bidi-font-style: normal">Canvas</I>). It is also important to make 
certain that the public API is identical for both widgets. This makes it 
possible for applications to run on any platform without 
recompiling.</SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Looking at the <I 
style="mso-bidi-font-style: normal">Spinner</I> example in the previous section, 
suppose we now want to have a <I style="mso-bidi-font-style: normal">Spinner</I> 
on a third platform that does not have a native <I 
style="mso-bidi-font-style: normal">SpinBox</I> or <I 
style="mso-bidi-font-style: normal">UpDown</I> control. Since we subclassed<I 
style="mso-bidi-font-style: normal"> Composite</I> on Windows and Motif, we 
again subclass <I style="mso-bidi-font-style: normal">Composite</I> on the new 
platform. Then we create three children: a <I 
style="mso-bidi-font-style: normal">Text</I> and two arrow <I 
style="mso-bidi-font-style: normal">Buttons</I>. Then we fill in the API and 
write our widget as described earlier in the <SPAN 
style="mso-field-code: 'REF _Ref506190201 \h'">Compound Widget Example<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300036003100390030003200300031000000</w:data>
</xml><![endif]--></SPAN> section. The full source code listing for this 100% 
Java <I style="mso-bidi-font-style: normal">Spinner</I> is in </SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixE.htm"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">Appendix E: Spinner for Any 
Platform</SPAN></SPAN><SPAN style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428"></SPAN></SPAN></A><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN 
style="mso-bookmark: _Toc496069428">.</SPAN></SPAN></P><B 
style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 14pt; FONT-FAMILY: 'Times New Roman'; mso-bidi-font-size: 10.0pt; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-fareast-language: EN-US; mso-bidi-language: AR-SA"><BR 
style="PAGE-BREAK-BEFORE: always" clear=all></SPAN></B>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><SPAN 
style="mso-bookmark: _Toc496069785"><SPAN style="mso-bookmark: _Toc496069428"><B 
style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 18pt; mso-bidi-font-size: 10.0pt">Summary</SPAN></B></SPAN></SPAN><B 
style="mso-bidi-font-weight: normal"><SPAN 
style="FONT-SIZE: 18pt; mso-bidi-font-size: 10.0pt"><o:p></o:p></SPAN></B></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">SWT provides several different 
ways to implement new widgets. The simplest method, and the one you will 
typically use, is to subclass <I style="mso-bidi-font-style: normal">Canvas</I> 
or <I style="mso-bidi-font-style: normal">Composite</I> and add listeners and 
methods to get the job done.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">In certain cases the 
specification for your new widget will so closely resemble a single existing SWT 
widget that you will want to use that widget in your implementation. The 
recommended way to do this is to wrap the SWT widget in a subclass of <I 
style="mso-bidi-font-style: normal">Composite</I>, and implement a carefully 
determined subset of the wrapped widget’s methods by forwarding to the wrapped 
widget.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">Occasionally, you may need to 
wrap a platform or third party widget by writing a platform-specific shared 
library that makes calls to this widget. You can then subclass <I 
style="mso-bidi-font-style: normal">Composite</I> and provide a Java native 
interface to your library code.</P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></P>
<P class=MsoNormal style="MARGIN-LEFT: 25.5pt">Finally, in very special and rare 
circumstances, you can subclass an existing SWT widget, but this is not 
recommended.</P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<H4 style="MARGIN-LEFT: 25.5pt"><B>Example Code<o:p></o:p></B></H4>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><A 
name=_Ref498278978></A><A name=_Toc506634640><SPAN 
style="mso-bookmark: _Ref498278978"></SPAN></A><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixA.htm"><SPAN 
style="mso-bookmark: _Toc506634640"><SPAN 
style="mso-bookmark: _Ref498278978">Appendix A: TableTree and 
TableTreeItem</SPAN></SPAN><SPAN 
style="mso-bookmark: _Ref498278978"></SPAN><SPAN 
style="mso-bookmark: _Toc506634640"></SPAN><SPAN 
style="mso-bookmark: _Ref506196466"><SPAN 
style="mso-bookmark: _Ref506203309"><SPAN 
style="mso-bookmark: _Toc506634643"></SPAN></SPAN></SPAN><SPAN 
style="mso-bookmark: _Ref506196466"><SPAN 
style="mso-bookmark: _Ref506203309"><SPAN 
style="mso-bookmark: _Toc506634643"></SPAN></SPAN></SPAN></A><![if !supportNestedAnchors]><A 
name=_Toc506634643></A><A name=_Ref506203309></A><A name=_Ref506196466></A><![endif]><SPAN style="mso-bookmark: _Ref506196466"><SPAN 
style="mso-bookmark: _Ref506203309"><SPAN 
style="mso-bookmark: _Toc506634643"></SPAN></SPAN></SPAN></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="mso-bookmark: _Ref506196466"><SPAN 
style="mso-bookmark: _Ref506203309"><SPAN 
style="mso-bookmark: _Toc506634643"></SPAN></SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixB.htm"><SPAN 
style="mso-bookmark: _Ref506196466"><SPAN 
style="mso-bookmark: _Ref506203309"><SPAN 
style="mso-bookmark: _Toc506634643">Appendix B: 
Spinner</SPAN></SPAN></SPAN><SPAN style="mso-bookmark: _Toc506634643">Test and 
Spinner</SPAN><SPAN style="mso-bookmark: _Toc506634643"></SPAN></A></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><A 
name=_Ref506009163></A><A name=_Toc506634646><SPAN 
style="mso-bookmark: _Ref506009163"></SPAN></A><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixC.htm"><SPAN 
style="mso-bookmark: _Toc506634646"><SPAN 
style="mso-bookmark: _Ref506009163">Appendix C: Spinner for 
Windows</SPAN></SPAN><SPAN style="mso-bookmark: _Ref506009163"></SPAN><SPAN 
style="mso-bookmark: _Toc506634646"></SPAN><SPAN 
style="mso-bookmark: _Ref506009181"><SPAN 
style="mso-bookmark: _Toc506634650"></SPAN></SPAN><SPAN 
style="mso-bookmark: _Ref506009181"><SPAN 
style="mso-bookmark: _Toc506634650"></SPAN></SPAN></A><![if !supportNestedAnchors]><A 
name=_Toc506634650></A><A name=_Ref506009181></A><![endif]><SPAN 
style="mso-bookmark: _Ref506009181"><SPAN 
style="mso-bookmark: _Toc506634650"></SPAN></SPAN></P>
<P class=MsoHeader 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><SPAN 
style="mso-bookmark: _Ref506009181"><SPAN 
style="mso-bookmark: _Toc506634650"></SPAN></SPAN><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixD.htm"><SPAN 
style="mso-bookmark: _Ref506009181"><SPAN 
style="mso-bookmark: _Toc506634650">Appendix D: Spinner for 
Motif</SPAN></SPAN><SPAN style="mso-bookmark: _Toc506634650"></SPAN><SPAN 
style="mso-bookmark: _Ref506009181"></SPAN></A></P>
<P class=MsoNormal 
style="MARGIN-LEFT: 25.5pt; tab-stops: 24.0pt 48.0pt 1.0in 96.0pt 120.0pt 2.0in 168.0pt 192.0pt 3.0in 240.0pt 264.0pt 4.0in 312.0pt 336.0pt 5.0in 384.0pt 408.0pt 6.0in 456.0pt 480.0pt 7.0in 528.0pt 552.0pt 8.0in 600.0pt 624.0pt 9.0in 672.0pt 696.0pt 10.0in 744.0pt 768.0pt"><A 
name=_Ref506190577></A><A name=_Toc506634654><SPAN 
style="mso-bookmark: _Ref506190577"></SPAN></A><A 
href="http://www.eclipse.org/articles/Article-Writing%20Your%20Own%20Widget/Writing%20Your%20Own%20Widget_files/AppendixE.htm"><SPAN 
style="mso-bookmark: _Toc506634654"><SPAN 
style="mso-bookmark: _Ref506190577">Appendix E: Spinner for Any 
Platform</SPAN></SPAN><SPAN style="mso-bookmark: _Ref506190577"></SPAN><SPAN 
style="mso-bookmark: _Toc506634654"></SPAN></A><SPAN 
style="FONT-SIZE: 9pt; LAYOUT-GRID-MODE: line; FONT-FAMILY: 'Courier New'; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: 'Times New Roman'"><o:p></o:p></SPAN></P></DIV>
<P><SMALL>Java and all Java-based trademarks and logos are trademarks or 
registered trademarks of Sun Microsystems, Inc. in the United States, other 
countries, or both.</SMALL></P>
<P><SMALL>Microsoft, Windows, Windows NT, and the Windows logo are trademarks of 
Microsoft Corporation in the United States, other countries, or 
both.</SMALL></P></BODY></HTML>
