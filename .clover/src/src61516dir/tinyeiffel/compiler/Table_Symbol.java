/* $$ This file has been instrumented by Clover 1.3.9#20050811161021793 $$ *//*
 * Created on 30 sept. 2003
 *
 * To change the template for this generated file go to
 * Window>Preferences>Java>Code Generation>Code and Comments
 */
package tinyeiffel.compiler;

import tinyeiffel.ast.*;
//import java.util.*;
import tinyeiffel.erreur.*;

/**
 * @author BARRET
 *
 * To change the template for this generated type comment go to
 * Window>Preferences>Java>Code Generation>Code and Comments
 */
public class Table_Symbol {static class __CLOVER_82_0{static com_cenqua_clover.l cloverRec;static{try{if(20050811161021793L!=com_cenqua_clover.CloverVersionInfo.getBuildMagic()){java.lang.System.err.println("[CLOVER] WARNING: The Clover version used in instrumentation does not match the runtime version. You need to run instrumented classes against the same version of Clover that you instrumented with.");java.lang.System.err.println("[CLOVER] WARNING: Instr=1.3.9#20050811161021793,Runtime="+com_cenqua_clover.CloverVersionInfo.getReleaseNum() + "#"+com_cenqua_clover.CloverVersionInfo.getBuildMagic());}cloverRec = com_cenqua_clover.d.getRecorder(new char[] {69,58,92,112,114,111,106,101,116,92,101,105,102,102,101,108,92,46,99,108,111,118,101,114,92,99,111,118,101,114,97,103,101,46,100,98},1129378909078L);}catch (Throwable t) {java.lang.System.err.println("[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? ("+t.getClass()+":"+ t.getMessage()+")");}}}
// TODO : Genere les erreurs
	public Table_Symbol(Classe c,Context context)
	{__CLOVER_82_0.cloverRec.M[734]++;
		assert((((c!=null)) && (++__CLOVER_82_0.cloverRec.CT[3033]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3033]==0&false));
		assert((((context!=null)) && (++__CLOVER_82_0.cloverRec.CT[3034]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3034]==0&false));
		
		__CLOVER_82_0.cloverRec.S[13832]++;heritage=c.heritage;
		__CLOVER_82_0.cloverRec.S[13833]++;this.log=context.logging;
		__CLOVER_82_0.cloverRec.S[13834]++;classe=c;
		__CLOVER_82_0.cloverRec.S[13835]++;this.context=context;
		__CLOVER_82_0.cloverRec.S[13836]++;if((((heritage!=null) && (++__CLOVER_82_0.cloverRec.CT[3035]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3035]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13837]++;table_heritage=new Table_Symbol[heritage.length];
			__CLOVER_82_0.cloverRec.S[13838]++;table_conversion=new Conversion[heritage.length];
		}
		/*int i;
		for(i=0;i<heritage.length;i++)
			ajoute_heritage(heritage[i]);
		for(i=0;i<feature.length;i++)
			ajoute_feature(feature[i]);
		*/
	}}
	
	/**
	 * Ajoute les attributs  d'une classe herit\u00e9
	 * @param h	le lien d'heritage
	 * @param t	la table de symbol de la classe herit\u00e9
	 */
	public void ajoute_heritage(Heritage h,Table_Symbol t)
	{__CLOVER_82_0.cloverRec.M[735]++;
		assert((((h!=null)) && (++__CLOVER_82_0.cloverRec.CT[3036]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3036]==0&false));
		assert((((t!=null)) && (++__CLOVER_82_0.cloverRec.CT[3037]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3037]==0&false));
		//assert(heritage!=null);
		//assert(heritage.length>0);
		//assert(heritage_ajoute==false);
		__CLOVER_82_0.cloverRec.S[13839]++;int i,j;
		__CLOVER_82_0.cloverRec.S[13840]++;if((((heritage==null) && (++__CLOVER_82_0.cloverRec.CT[3038]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3038]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13841]++;heritage=new Heritage[1];
			__CLOVER_82_0.cloverRec.S[13842]++;heritage[0]=h;
			__CLOVER_82_0.cloverRec.S[13843]++;table_heritage=new Table_Symbol[1];
			__CLOVER_82_0.cloverRec.S[13844]++;table_conversion=new Conversion[1];
		}
		}assert((((heritage!=null)) && (++__CLOVER_82_0.cloverRec.CT[3039]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3039]==0&false));
		assert((((heritage.length>0)) && (++__CLOVER_82_0.cloverRec.CT[3040]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3040]==0&false));
		assert((((heritage.length==table_heritage.length)) && (++__CLOVER_82_0.cloverRec.CT[3041]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3041]==0&false));
		__CLOVER_82_0.cloverRec.S[13845]++;for(i=0;(((i<heritage.length) && (++__CLOVER_82_0.cloverRec.CT[3042]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3042]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13846]++;if((((heritage[i]==h) && (++__CLOVER_82_0.cloverRec.CT[3043]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3043]==0&false)))
				{__CLOVER_82_0.cloverRec.S[13847]++;break;
		}}
		}assert((((i<heritage.length)) && (++__CLOVER_82_0.cloverRec.CT[3044]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3044]==0&false));
		assert((((table_heritage[i]==null)) && (++__CLOVER_82_0.cloverRec.CT[3045]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3045]==0&false)):"heritage refait:"+i+","
					+heritage.length;
		assert((((table_conversion[i]==null)) && (++__CLOVER_82_0.cloverRec.CT[3046]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3046]==0&false));
		__CLOVER_82_0.cloverRec.S[13848]++;table_heritage[i]=t;
		__CLOVER_82_0.cloverRec.S[13849]++;Conversion conversion=new Conversion(h,t.classe.type);
		__CLOVER_82_0.cloverRec.S[13850]++;table_conversion[i]=conversion;
		//context.type_valide(this,h.type);
		__CLOVER_82_0.cloverRec.S[13851]++;if((((t.liste_attribut!=null) && (++__CLOVER_82_0.cloverRec.CT[3047]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3047]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13852]++;for(i=0;(((i<t.liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3048]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3048]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[13853]++;Attribut_Complet a=t.liste_attribut[i];
				__CLOVER_82_0.cloverRec.S[13854]++;NomFeature nom=a.nom;
				__CLOVER_82_0.cloverRec.S[13855]++;boolean rename=false,redefine=false,undefine=false,select=false;
				__CLOVER_82_0.cloverRec.S[13856]++;for(j=0;(((j<h.rename.length) && (++__CLOVER_82_0.cloverRec.CT[3049]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3049]==0&false));j++)
				{{
					__CLOVER_82_0.cloverRec.S[13857]++;Rename r=h.rename[j];
					__CLOVER_82_0.cloverRec.S[13858]++;if((((nom.equals(r.nom_src)) && (++__CLOVER_82_0.cloverRec.CT[3050]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3050]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13859]++;nom=r.nom_dest;
						__CLOVER_82_0.cloverRec.S[13860]++;rename=true;
						__CLOVER_82_0.cloverRec.S[13861]++;break;
					}
				}}
				}__CLOVER_82_0.cloverRec.S[13862]++;for(j=0;(((j<h.undefine.length) && (++__CLOVER_82_0.cloverRec.CT[3051]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3051]==0&false));j++)
				{{
					__CLOVER_82_0.cloverRec.S[13863]++;NomFeature n=h.undefine[j];
					__CLOVER_82_0.cloverRec.S[13864]++;if((((nom.equals(n)) && (++__CLOVER_82_0.cloverRec.CT[3052]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3052]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13865]++;undefine=true;
						__CLOVER_82_0.cloverRec.S[13866]++;break;
					}
				}}
				}__CLOVER_82_0.cloverRec.S[13867]++;for(j=0;(((j<h.redefine.length) && (++__CLOVER_82_0.cloverRec.CT[3053]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3053]==0&false));j++)
				{{
					__CLOVER_82_0.cloverRec.S[13868]++;NomFeature n=h.redefine[j];
					__CLOVER_82_0.cloverRec.S[13869]++;if((((nom.equals(n)) && (++__CLOVER_82_0.cloverRec.CT[3054]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3054]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13870]++;redefine=true;
						__CLOVER_82_0.cloverRec.S[13871]++;break;
					}
				}}
				}__CLOVER_82_0.cloverRec.S[13872]++;for(j=0;(((j<h.select.length) && (++__CLOVER_82_0.cloverRec.CT[3055]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3055]==0&false));j++)
				{{
					__CLOVER_82_0.cloverRec.S[13873]++;NomFeature n=h.select[j];
					__CLOVER_82_0.cloverRec.S[13874]++;if((((nom.equals(n)) && (++__CLOVER_82_0.cloverRec.CT[3056]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3056]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13875]++;select=true;
						__CLOVER_82_0.cloverRec.S[13876]++;break;
					}
				}}
				}assert((((h!=null)) && (++__CLOVER_82_0.cloverRec.CT[3057]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3057]==0&false));
				__CLOVER_82_0.cloverRec.S[13877]++;ajoute_attribut(a,nom,undefine,redefine,h,
								conversion);
			}
		}}
		
		}__CLOVER_82_0.cloverRec.S[13878]++;heritage_ajoute=true;
	}
	
	/**
	 * Ajoute les attributs declare dans la feature f
	 * de la classe.
	 * @param f	la feature
	 */
	public void ajoute_feature(Feature f)
	{__CLOVER_82_0.cloverRec.M[736]++;
		assert((((f!=null)) && (++__CLOVER_82_0.cloverRec.CT[3058]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3058]==0&false));
		//assert(feature_ajoute==false);
		__CLOVER_82_0.cloverRec.S[13879]++;int i;
		__CLOVER_82_0.cloverRec.S[13880]++;for(i=0;(((i<f.liste_nom.length) && (++__CLOVER_82_0.cloverRec.CT[3059]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3059]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13881]++;NomFeature n=f.liste_nom[i];
			assert((((n!=null)) && (++__CLOVER_82_0.cloverRec.CT[3060]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3060]==0&false));
			__CLOVER_82_0.cloverRec.S[13882]++;Attribut a=new Attribut(n,classe,f);
			__CLOVER_82_0.cloverRec.S[13883]++;ajoute_attribut(a,n,f);
		}
		
		}__CLOVER_82_0.cloverRec.S[13884]++;feature_ajoute=true;
	}
	
	protected void ajoute_attribut(Attribut a,NomFeature nom,
									Feature feature)
	{__CLOVER_82_0.cloverRec.M[737]++;// ajoute un attribut dans la table de symbol
		assert((((a!=null)) && (++__CLOVER_82_0.cloverRec.CT[3061]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3061]==0&false));
		__CLOVER_82_0.cloverRec.S[13885]++;Attribut_Complet ac;
		__CLOVER_82_0.cloverRec.S[13886]++;int no=no_attribut(a);
		__CLOVER_82_0.cloverRec.S[13887]++;if((((no==-1) && (++__CLOVER_82_0.cloverRec.CT[3062]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3062]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13888]++;ac=insert_attribut(a.nom);
		}
		}else
			{__CLOVER_82_0.cloverRec.S[13889]++;ac=liste_attribut[no];
		}__CLOVER_82_0.cloverRec.S[13890]++;ac.ajoute_attribut_directe(a,feature);
		//ac.feature_directe=feature;
		//ac.attribut_directe=a;
	}

	/**
	 * Ajoute l'attribut ac dans la table de symbol avec 
	 * pour nom nom. L'attribut vient d'un ancetre.
	 * @param ac       l'attribut ajoute
	 * @param nom  le nom de l'attribut apres renomage eventuel
	 * @param undefine =true ssi c'est un undefine
	 * @param redefine =true ssi c'est un redefine
	 * @param herit    l'heritage
	 */
	protected void ajoute_attribut(Attribut_Complet ac,NomFeature nom,
				boolean undefine,boolean redefine,Heritage herit,
				Conversion conversion)
	{__CLOVER_82_0.cloverRec.M[738]++;
		assert((((ac!=null)) && (++__CLOVER_82_0.cloverRec.CT[3063]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3063]==0&false));
		assert((((nom!=null)) && (++__CLOVER_82_0.cloverRec.CT[3064]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3064]==0&false));
		assert((((herit!=null)) && (++__CLOVER_82_0.cloverRec.CT[3065]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3065]==0&false));
		__CLOVER_82_0.cloverRec.S[13891]++;Attribut a;
		__CLOVER_82_0.cloverRec.S[13892]++;Attribut_Complet ac2;
		__CLOVER_82_0.cloverRec.S[13893]++;int no=no_attribut(nom);
		__CLOVER_82_0.cloverRec.S[13894]++;if((((no==-1) && (++__CLOVER_82_0.cloverRec.CT[3066]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3066]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13895]++;ac2=insert_attribut(nom);
		}else
			{__CLOVER_82_0.cloverRec.S[13896]++;ac2=liste_attribut[no];
		}__CLOVER_82_0.cloverRec.S[13897]++;ac2.ajoute_ancetre(ac,nom,undefine,redefine,herit,conversion);
		/*if(ac.attribut_deferred!=null)
		{
			for(int i=0;i<ac.attribut_deferred.length;i++)
			{
				a=ac.attribut_deferred[i];
				ac2.ajoute_deferred(a);
			}
		}
		if(ac.attribut_reel!=null)
		{
			if(undefine)
			{
				//ac2.redefine=redefine;
				//ac2.undefine=true;
				if(ac.attribut_reel==null)
				{// TODO : a revoir
					//log.erreur(new ErreurVDUS3(classe,));
					assert(false);
				}
				else
				{
					ac2.ajoute_deferred(ac.attribut_reel);
				}
			}
			else if(redefine)
			{
				//ac2.redefine=true;
				//ac2.undefine=undefine;
				ac2.ajoute_deferred(ac.attribut_reel);
			}
			else
				ac2.defini_attribut(ac.attribut_reel);
		}*/
	}

	/**
	 * Cree un attribut et l'ajoute dans la table.
	 * Il ne doit pas exister.
	 * @param nom	le nom de cette attribut
	 * @return
	 */
	protected Attribut_Complet insert_attribut(NomFeature nom)
	{__CLOVER_82_0.cloverRec.M[739]++;// cree un nouvel Attribut_Complet
		assert((((nom!=null)) && (++__CLOVER_82_0.cloverRec.CT[3067]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3067]==0&false));
		__CLOVER_82_0.cloverRec.S[13898]++;Attribut_Complet ac=new Attribut_Complet(nom,this);
		__CLOVER_82_0.cloverRec.S[13899]++;int len;
		__CLOVER_82_0.cloverRec.S[13900]++;if((((liste_attribut==null) && (++__CLOVER_82_0.cloverRec.CT[3068]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3068]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13901]++;len=0;
		}else
			{__CLOVER_82_0.cloverRec.S[13902]++;len=liste_attribut.length;
		}__CLOVER_82_0.cloverRec.S[13903]++;Attribut_Complet t[]=new Attribut_Complet[len+1];
		__CLOVER_82_0.cloverRec.S[13904]++;int i;
		__CLOVER_82_0.cloverRec.S[13905]++;for(i=0;(((i<len) && (++__CLOVER_82_0.cloverRec.CT[3069]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3069]==0&false));i++)
			{__CLOVER_82_0.cloverRec.S[13906]++;t[i]=liste_attribut[i];
		}__CLOVER_82_0.cloverRec.S[13907]++;t[i]=ac;
		__CLOVER_82_0.cloverRec.S[13908]++;liste_attribut=t;
		__CLOVER_82_0.cloverRec.S[13909]++;return ac;
	}

	/*public void ajoute_attribut_deferred(Attribut a)
	{
		assert(a!=null);
		
	}*/
	
	public void termine_verification()
	{__CLOVER_82_0.cloverRec.M[740]++;
		__CLOVER_82_0.cloverRec.S[13910]++;int i,j;
		__CLOVER_82_0.cloverRec.S[13911]++;if((((heritage!=null) && (++__CLOVER_82_0.cloverRec.CT[3070]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3070]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13912]++;for(i=0;(((i<heritage.length) && (++__CLOVER_82_0.cloverRec.CT[3071]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3071]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[13913]++;Heritage h=heritage[i];
				assert((((h!=null)) && (++__CLOVER_82_0.cloverRec.CT[3072]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3072]==0&false));
				__CLOVER_82_0.cloverRec.S[13914]++;context.type_valide(this,h.type);
			}
		}}
		}__CLOVER_82_0.cloverRec.S[13915]++;if((((liste_attribut!=null) && (++__CLOVER_82_0.cloverRec.CT[3073]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3073]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13916]++;boolean deferred=false;
			__CLOVER_82_0.cloverRec.S[13917]++;Attribut_Complet ad=null;
			__CLOVER_82_0.cloverRec.S[13918]++;for(i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3074]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3074]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[13919]++;Attribut_Complet a=liste_attribut[i];
				//context.feature_courante=a.getFeature();
				__CLOVER_82_0.cloverRec.S[13920]++;context.compiler.env.entre_feature(a.getFeature());
				__CLOVER_82_0.cloverRec.S[13921]++;a.verifie_signature(context);
				__CLOVER_82_0.cloverRec.S[13922]++;if((((a.est_deferred()) && (++__CLOVER_82_0.cloverRec.CT[3075]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3075]==0&false)))
				{{
					__CLOVER_82_0.cloverRec.S[13923]++;deferred=true;
					__CLOVER_82_0.cloverRec.S[13924]++;ad=a;
				}
				}__CLOVER_82_0.cloverRec.S[13925]++;context.compiler.env.sort_feature();
			}
			}__CLOVER_82_0.cloverRec.S[13926]++;if((((deferred&&!classe.deferred) && (++__CLOVER_82_0.cloverRec.CT[3076]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3076]==0&false)))
			{{// Erreur VCCH1
				assert((((ad!=null)) && (++__CLOVER_82_0.cloverRec.CT[3077]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3077]==0&false));
				__CLOVER_82_0.cloverRec.S[13927]++;context.erreur(new ErreurVCCH1(classe,ad.getFeature()));
			}
			}else {__CLOVER_82_0.cloverRec.S[13928]++;if((((!deferred&&classe.deferred) && (++__CLOVER_82_0.cloverRec.CT[3078]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3078]==0&false)))
			{{// Erreur VCCH2
				__CLOVER_82_0.cloverRec.S[13929]++;context.erreur(new ErreurVCCH2(classe));
			}
			/*for(i=0;i<liste_attribut.length;i++)
			{
				Attribut_Complet a=liste_attribut[i];
				/*if(a.redefine&&a.attribut_reel==null)
				{
					log.erreurMsg("L'attribut "+a.nom+" n'a pas ete redefinie dans la classe "+
							classe.nom);
				}*/
			/*	Attribut a2=a.donne_attribut(classe);
				if(a2!=null&&a.attribut_deferred!=null)
				{
					if(classe.nom=="TEST8"&&a2.nom.nom=="Void")
					{
						System.out.println("Trouve");
					}
					a.verifie_signature();
					Type t=a2.feature.type_retour,t2;
					for(j=0;j<a.attribut_deferred.length;j++)
					{
						if(t==null)
						{
							if(a.attribut_deferred[j].feature.type_retour!=null)
							{
								log.erreurMsg("Pas1 le bon type de retour pour l'attribut "+
										a+" dans la classe "+classe.nom);
							}
						}
						else
						{
							t2=a.attribut_deferred[j].feature.type_retour;
							if(t2==null||!context.type_compatible(t,this,t2,this))
							{
								log.erreurMsg("Pas2 le bon type de retour pour l'attribut "+
											a+" dans la classe "+classe.nom+
											" entre "+t+" et "+t2+":"+trouve_vrai_type(t)+
											","+trouve_vrai_type(t2));
							}
						}
					}
				}
			}*/
		}}}
	}}
	
	/**
	 * retrourne true ssi le type t est un generique
	 * @param t
	 * @return
	 */
	public boolean type_generique(Type t)
	{__CLOVER_82_0.cloverRec.M[741]++;
		assert((((t!=null)) && (++__CLOVER_82_0.cloverRec.CT[3079]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3079]==0&false));
		assert((((classe!=null)) && (++__CLOVER_82_0.cloverRec.CT[3080]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3080]==0&false));
		__CLOVER_82_0.cloverRec.S[13930]++;Type type,type2;
		__CLOVER_82_0.cloverRec.S[13931]++;int i;
		__CLOVER_82_0.cloverRec.S[13932]++;type=classe.type;
		assert((((type!=null)) && (++__CLOVER_82_0.cloverRec.CT[3081]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3081]==0&false));
		//assert(t.nom.compareToIgnoreCase("u")!=0):"type="+t+
		//		";classe.type="+type+";classe="+classe.nom;
		__CLOVER_82_0.cloverRec.S[13933]++;if((((t.is_like||type.egaux(t)) && (++__CLOVER_82_0.cloverRec.CT[3082]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3082]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13934]++;return false;
		}__CLOVER_82_0.cloverRec.S[13935]++;if((((type.generique!=null&&type.generique.length>0) && (++__CLOVER_82_0.cloverRec.CT[3083]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3083]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[13936]++;for(i=0;(((i<type.generique.length) && (++__CLOVER_82_0.cloverRec.CT[3084]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3084]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[13937]++;if((((type.generique[i].egaux(t)) && (++__CLOVER_82_0.cloverRec.CT[3085]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3085]==0&false)))
					{__CLOVER_82_0.cloverRec.S[13938]++;return true;
			}}
		}}
		}__CLOVER_82_0.cloverRec.S[13939]++;return false;
	}
	
	/**
	 * retourne la contrainte s'il y en a du parametre generique
	 * type
	 * @param type
	 * @return
	 */
	public Type contrainte(Type type)
	{__CLOVER_82_0.cloverRec.M[742]++;
		assert((((type!=null)) && (++__CLOVER_82_0.cloverRec.CT[3086]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3086]==0&false));
		assert((((type_generique(type))) && (++__CLOVER_82_0.cloverRec.CT[3087]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3087]==0&false));
		__CLOVER_82_0.cloverRec.S[13940]++;Type type_base;
		__CLOVER_82_0.cloverRec.S[13941]++;type_base=classe.type;
		assert((((type_base!=null)) && (++__CLOVER_82_0.cloverRec.CT[3088]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3088]==0&false));
		assert((((type_base.generique!=null&&type_base.generique.length>0)) && (++__CLOVER_82_0.cloverRec.CT[3089]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3089]==0&false));
		__CLOVER_82_0.cloverRec.S[13942]++;for(int i=0;(((i<type_base.generique.length) && (++__CLOVER_82_0.cloverRec.CT[3090]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3090]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13943]++;if((((type_base.generique[i].egaux(type)) && (++__CLOVER_82_0.cloverRec.CT[3091]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3091]==0&false)))
			{{
				__CLOVER_82_0.cloverRec.S[13944]++;Type t=type_base.generique[i];
				__CLOVER_82_0.cloverRec.S[13945]++;if((((t.generique==null||t.generique.length==0) && (++__CLOVER_82_0.cloverRec.CT[3092]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3092]==0&false)))
				{{
					__CLOVER_82_0.cloverRec.S[13946]++;return null;
				}
				}else
				{{
					assert((((t.generique.length==1)) && (++__CLOVER_82_0.cloverRec.CT[3093]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3093]==0&false));
					__CLOVER_82_0.cloverRec.S[13947]++;return t.generique[0];
				}
			}}
		}}
		}assert((((false)) && (++__CLOVER_82_0.cloverRec.CT[3094]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3094]==0&false));
		__CLOVER_82_0.cloverRec.S[13948]++;return null;
	}
	
	public Type trouve_vrai_type(Type t)
	{__CLOVER_82_0.cloverRec.M[743]++;// TODO: prendre en compte like result
		assert((((t!=null)) && (++__CLOVER_82_0.cloverRec.CT[3095]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3095]==0&false));
		assert((((context!=null)) && (++__CLOVER_82_0.cloverRec.CT[3096]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3096]==0&false));
		__CLOVER_82_0.cloverRec.S[13949]++;if((((!t.is_like) && (++__CLOVER_82_0.cloverRec.CT[3097]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3097]==0&false)))
		{{
			/*if(type_generique(t))
			{
				Type type=contrainte(t);
				if(type==null)
					return new Type(false,"any",new Vector());
				else
					return type;
			}
			else*/
				__CLOVER_82_0.cloverRec.S[13950]++;return t;
		}
		}else
		{{
			assert((((t.like!=null)) && (++__CLOVER_82_0.cloverRec.CT[3098]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3098]==0&false));
			__CLOVER_82_0.cloverRec.S[13951]++;Expr_Var v=(Expr_Var)t.like;
			__CLOVER_82_0.cloverRec.S[13952]++;if((((v.nom.compareToIgnoreCase("Current")==0) && (++__CLOVER_82_0.cloverRec.CT[3099]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3099]==0&false)))
				{__CLOVER_82_0.cloverRec.S[13953]++;return classe.type;
			}__CLOVER_82_0.cloverRec.S[13954]++;int i;
			__CLOVER_82_0.cloverRec.S[13955]++;i=no_attribut(new NomFeature(v.nom));
			__CLOVER_82_0.cloverRec.S[13956]++;if((((i==-1) && (++__CLOVER_82_0.cloverRec.CT[3100]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3100]==0&false)))
			{{
				__CLOVER_82_0.cloverRec.S[13957]++;DeclareVar liste[],var;
				__CLOVER_82_0.cloverRec.S[13958]++;Environnement env;
				__CLOVER_82_0.cloverRec.S[13959]++;env=context.compiler.env;
				__CLOVER_82_0.cloverRec.S[13960]++;if((((env.dans_feature()) && (++__CLOVER_82_0.cloverRec.CT[3101]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3101]==0&false)))
				{{
					__CLOVER_82_0.cloverRec.S[13961]++;liste=env.feature.param;
					__CLOVER_82_0.cloverRec.S[13962]++;var=context.cherche_var(v.nom,liste);
					__CLOVER_82_0.cloverRec.S[13963]++;if((((var!=null) && (++__CLOVER_82_0.cloverRec.CT[3102]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3102]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13964]++;return var.type;
					}
					}__CLOVER_82_0.cloverRec.S[13965]++;if((((env.feature instanceof FeatureRoutine) && (++__CLOVER_82_0.cloverRec.CT[3103]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3103]==0&false)))
					{{
						__CLOVER_82_0.cloverRec.S[13966]++;liste=((FeatureRoutine)env.feature).local;
						__CLOVER_82_0.cloverRec.S[13967]++;var=context.cherche_var(v.nom,liste);
						__CLOVER_82_0.cloverRec.S[13968]++;if((((var!=null) && (++__CLOVER_82_0.cloverRec.CT[3104]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3104]==0&false)))
						{{
							__CLOVER_82_0.cloverRec.S[13969]++;return var.type;
						}
					}}
				}}
				}__CLOVER_82_0.cloverRec.S[13970]++;log.erreurMsg("Attribut du like "+v.nom+" inconnue");
				__CLOVER_82_0.cloverRec.S[13971]++;return null;
			}
			}else
			{{
				__CLOVER_82_0.cloverRec.S[13972]++;Type t2=liste_attribut[i].donne_type_retour(context);
				assert((((t2!=null)) && (++__CLOVER_82_0.cloverRec.CT[3105]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3105]==0&false));
				__CLOVER_82_0.cloverRec.S[13973]++;if((((t2.is_like) && (++__CLOVER_82_0.cloverRec.CT[3106]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3106]==0&false)))
					{__CLOVER_82_0.cloverRec.S[13974]++;return null;
				}__CLOVER_82_0.cloverRec.S[13975]++;return t2;
			}
		}}
		//assert(false):t+"("+t.debut()+")";
		//return null;
	}}
	
	protected int no_attribut(Attribut a)
	{__CLOVER_82_0.cloverRec.M[744]++;
		assert((((a!=null)) && (++__CLOVER_82_0.cloverRec.CT[3107]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3107]==0&false));
		__CLOVER_82_0.cloverRec.S[13976]++;if((((liste_attribut==null) && (++__CLOVER_82_0.cloverRec.CT[3108]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3108]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13977]++;return -1;
		}__CLOVER_82_0.cloverRec.S[13978]++;int i;
		__CLOVER_82_0.cloverRec.S[13979]++;for(i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3109]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3109]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13980]++;if((((liste_attribut[i].meme_attribut(a)) && (++__CLOVER_82_0.cloverRec.CT[3110]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3110]==0&false)))
				{__CLOVER_82_0.cloverRec.S[13981]++;return i;
		}}
		}__CLOVER_82_0.cloverRec.S[13982]++;return -1;
	}

	public int no_attribut(NomFeature n)
	{__CLOVER_82_0.cloverRec.M[745]++;
		assert((((n!=null)) && (++__CLOVER_82_0.cloverRec.CT[3111]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3111]==0&false));
		__CLOVER_82_0.cloverRec.S[13983]++;if((((liste_attribut==null) && (++__CLOVER_82_0.cloverRec.CT[3112]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3112]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13984]++;return -1;
		}__CLOVER_82_0.cloverRec.S[13985]++;int i;
		__CLOVER_82_0.cloverRec.S[13986]++;for(i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3113]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3113]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13987]++;if((((liste_attribut[i].nom.meme_nom(n)) && (++__CLOVER_82_0.cloverRec.CT[3114]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3114]==0&false)))
				{__CLOVER_82_0.cloverRec.S[13988]++;return i;
		}}
		}__CLOVER_82_0.cloverRec.S[13989]++;return -1;
	}
	
	public Attribut_Complet donne_attribut(NomFeature nom)
	{__CLOVER_82_0.cloverRec.M[746]++;
		assert((((nom!=null)) && (++__CLOVER_82_0.cloverRec.CT[3115]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3115]==0&false));
		__CLOVER_82_0.cloverRec.S[13990]++;int i;
		__CLOVER_82_0.cloverRec.S[13991]++;i=no_attribut(nom);
		__CLOVER_82_0.cloverRec.S[13992]++;if((((i==-1) && (++__CLOVER_82_0.cloverRec.CT[3116]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3116]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13993]++;return null;
		}__CLOVER_82_0.cloverRec.S[13994]++;return liste_attribut[i];
	}


	public void verifie_valide()
	{__CLOVER_82_0.cloverRec.M[747]++;
		__CLOVER_82_0.cloverRec.S[13995]++;int i;
		
		__CLOVER_82_0.cloverRec.S[13996]++;if((((liste_attribut==null) && (++__CLOVER_82_0.cloverRec.CT[3117]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3117]==0&false)))
			{__CLOVER_82_0.cloverRec.S[13997]++;return;
		
		}__CLOVER_82_0.cloverRec.S[13998]++;for(i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3118]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3118]==0&false));i++)
		{{
			__CLOVER_82_0.cloverRec.S[13999]++;liste_attribut[i].verifie_valide(context);
		}
	}}
	
	public Attribut_Complet trouve_attribut(String nom)
	{__CLOVER_82_0.cloverRec.M[748]++;
		__CLOVER_82_0.cloverRec.S[14000]++;if((((liste_attribut!=null) && (++__CLOVER_82_0.cloverRec.CT[3119]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3119]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[14001]++;int i;
			__CLOVER_82_0.cloverRec.S[14002]++;Attribut_Complet ac;
			__CLOVER_82_0.cloverRec.S[14003]++;NomFeature nomf;
			__CLOVER_82_0.cloverRec.S[14004]++;for(i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3120]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3120]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[14005]++;ac=liste_attribut[i];
				__CLOVER_82_0.cloverRec.S[14006]++;nomf=ac.nom;
				__CLOVER_82_0.cloverRec.S[14007]++;if((((!nomf.infix&&!nomf.prefix&&
					nomf.nom.compareToIgnoreCase(nom)==0) && (++__CLOVER_82_0.cloverRec.CT[3121]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3121]==0&false)))
				{{
					__CLOVER_82_0.cloverRec.S[14008]++;return ac;
				}
			}}
		}}
		}__CLOVER_82_0.cloverRec.S[14009]++;return null;
	}
	
	public String toString()
	{__CLOVER_82_0.cloverRec.M[749]++;
		__CLOVER_82_0.cloverRec.S[14010]++;String res="Table_Symbol de "+classe.nom+":{\n";
		__CLOVER_82_0.cloverRec.S[14011]++;if((((liste_attribut!=null) && (++__CLOVER_82_0.cloverRec.CT[3122]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3122]==0&false)))
		{{
			__CLOVER_82_0.cloverRec.S[14012]++;for(int i=0;(((i<liste_attribut.length) && (++__CLOVER_82_0.cloverRec.CT[3123]!=0|true)) || (++__CLOVER_82_0.cloverRec.CF[3123]==0&false));i++)
			{{
				__CLOVER_82_0.cloverRec.S[14013]++;res+=liste_attribut[i].toString()+"\n";
			}
		}}
		}__CLOVER_82_0.cloverRec.S[14014]++;res+="}";
		
		__CLOVER_82_0.cloverRec.S[14015]++;return res;
	}
	
	public Classe classe;
	public Heritage[] heritage;
	public Logging log;
	public Attribut_Complet liste_attribut[];
	public Context context;
	public boolean heritage_ajoute,feature_ajoute;
	public Table_Symbol table_heritage[];
	public Conversion table_conversion[];

}
