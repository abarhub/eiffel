/* $$ This file has been instrumented by Clover 1.3.9#20050811161021793 $$ */package tinyeiffel.compiler;

import java.io.*;

import antlr.RecognitionException;
import antlr.TokenStreamException;
//import sun.reflect.ClassFileAssembler;
import tinyeiffel.ast.*;
import java.util.*;
import tinyeiffel.test_unitaire.*;

public class Eiffel
{static class __CLOVER_64_0{static com_cenqua_clover.l cloverRec;static{try{if(20050811161021793L!=com_cenqua_clover.CloverVersionInfo.getBuildMagic()){java.lang.System.err.println("[CLOVER] WARNING: The Clover version used in instrumentation does not match the runtime version. You need to run instrumented classes against the same version of Clover that you instrumented with.");java.lang.System.err.println("[CLOVER] WARNING: Instr=1.3.9#20050811161021793,Runtime="+com_cenqua_clover.CloverVersionInfo.getReleaseNum() + "#"+com_cenqua_clover.CloverVersionInfo.getBuildMagic());}cloverRec = com_cenqua_clover.d.getRecorder(new char[] {69,58,92,112,114,111,106,101,116,92,101,105,102,102,101,108,92,46,99,108,111,118,101,114,92,99,111,118,101,114,97,103,101,46,100,98},1129378909078L);}catch (Throwable t) {java.lang.System.err.println("[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? ("+t.getClass()+":"+ t.getMessage()+")");}}}
	public static void main(String[] args) {__CLOVER_64_0.cloverRec.M[471]++;
		__CLOVER_64_0.cloverRec.S[5781]++;if((((args!=null&args.length==1) && (++__CLOVER_64_0.cloverRec.CT[1897]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1897]==0&false)))
		{{
			__CLOVER_64_0.cloverRec.S[5782]++;Compiler_Eiffel c=new Compiler_Eiffel(args[0],Compiler_Eiffel.genere_c);
			__CLOVER_64_0.cloverRec.S[5783]++;if((((c.nb_erreur()>0) && (++__CLOVER_64_0.cloverRec.CT[1898]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1898]==0&false)))
				{__CLOVER_64_0.cloverRec.S[5784]++;System.exit(1);
		}}
		}else
		{{
			//test_parser3();
//			test1("compiler.ASTDefaut");
			//teste_classe("test\\test4.e");
			//test_complet();
			//test_parser4();
			//teste_classe("test\\test1-3.e");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\test6.e");
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\test8.e");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\vuex2-2\\test1.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\vtat1\\test1.e");
			//Compiler_Eiffel.prop=new Properties();
			//Compiler_Eiffel.prop.setProperty("new_compatible","yes");;
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\conformite\\ref\\test2.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\conformite\\expand\\test2.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\conformite\\pgene\\test2.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\conformite\\ancre\\test2.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\context\\conformite\\generique\\test1.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\test11.e");
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\test12.e",Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\interm\\test_external\\test1.ace",Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\parser\\test_exemple\\fibonacci.ace");
			//Compiler_Eiffel c=new Compiler_Eiffel("E:\\SmallEiffel0\\lib\\kernel\\character.e");
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\interpret\\test1.e",Compiler_Eiffel.exec_prog); 
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\genc\\test1.e",Compiler_Eiffel.genere_c);
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\genc\\test1.e",Compiler_Eiffel.convert);
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\genc\\test1.e",Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\interm\\test2\\test1.ace",Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\interm\\test_external2\\test1.ace",Compiler_Eiffel.code_interm);
			__CLOVER_64_0.cloverRec.S[5785]++;Compiler_Eiffel c=new Compiler_Eiffel(".\\test\\interm\\test_attribut2\\test1.ace",Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel(".\\smalleiffel\\tutorial\\fibonacci.ace",
					//"D:\\projet\\eiffel\\smalleiffel\\tutorial\\fibonacci.ace",
			//		Compiler_Eiffel.code_interm);
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\simple\\test1\\test1.ace",Compiler_Eiffel.code_interm,true);
			//Compiler_Eiffel c=new Compiler_Eiffel("test\\simple\\test3\\test3.ace",Compiler_Eiffel.code_interm,true);
		}
		}__CLOVER_64_0.cloverRec.S[5786]++;System.out.println("Fin du programme");
	}

	static boolean test1(String s)
	{__CLOVER_64_0.cloverRec.M[472]++;
		__CLOVER_64_0.cloverRec.S[5787]++;boolean res=false;
		__CLOVER_64_0.cloverRec.S[5788]++;try {
			__CLOVER_64_0.cloverRec.S[5789]++;Class str= Class.forName(s); // get class def
			__CLOVER_64_0.cloverRec.S[5790]++;res=true;
		}
		catch (Exception e) {
			__CLOVER_64_0.cloverRec.S[5791]++;System.out.println("Erreur de chargement de classe:"+s);
		}
		__CLOVER_64_0.cloverRec.S[5792]++;System.out.println("Chargement r\u00e9ussi de '"+s+"'");
		__CLOVER_64_0.cloverRec.S[5793]++;return res;
	}
	void test_asm()
	{__CLOVER_64_0.cloverRec.M[473]++;
		//sun.reflect.ClassFileAssembler a;
		
	}

	public static boolean teste_classe(String nom)
	{__CLOVER_64_0.cloverRec.M[474]++;
		__CLOVER_64_0.cloverRec.S[5794]++;boolean res=true;

		__CLOVER_64_0.cloverRec.S[5795]++;System.out.println("test de la classe "+nom);
		__CLOVER_64_0.cloverRec.S[5796]++;try {
			__CLOVER_64_0.cloverRec.S[5797]++;EiffelLexer lexer = new EiffelLexer(new FileInputStream(nom));
			__CLOVER_64_0.cloverRec.S[5798]++;lexer.setFilename(nom);
			__CLOVER_64_0.cloverRec.S[5799]++;EiffelParser parser = new EiffelParser(lexer);
			__CLOVER_64_0.cloverRec.S[5800]++;parser.setASTNodeClass("tinyeiffel.compiler.ASTDefaut");
			__CLOVER_64_0.cloverRec.S[5801]++;parser.setFilename(nom);
			__CLOVER_64_0.cloverRec.S[5802]++;parser.lexer=lexer;
			//parser.g//nom_fichier=nom;
			// Parse the input expression
			__CLOVER_64_0.cloverRec.S[5803]++;Classe c=parser.classe();
			__CLOVER_64_0.cloverRec.S[5804]++;Vector liste_classe=parser.type_utilisee;
			__CLOVER_64_0.cloverRec.S[5805]++;System.out.println("classe:"+liste_classe);
		}
		catch(TokenStreamException e) {
			__CLOVER_64_0.cloverRec.S[5806]++;System.out.println("exception: "+e);
			__CLOVER_64_0.cloverRec.S[5807]++;res=false;
		}
		catch(RecognitionException e) {
			__CLOVER_64_0.cloverRec.S[5808]++;System.out.println("exception: "+e);
			__CLOVER_64_0.cloverRec.S[5809]++;res=false;
		}
		catch(FileNotFoundException e)
		{
			__CLOVER_64_0.cloverRec.S[5810]++;System.out.println("Erreur0: fichier "+nom+" non trouve");
			__CLOVER_64_0.cloverRec.S[5811]++;System.out.println("exception: "+e);
			__CLOVER_64_0.cloverRec.S[5812]++;res=false;
		}
		catch(SecurityException e)
		{
			__CLOVER_64_0.cloverRec.S[5813]++;System.out.println("Erreur: erreur de securite");
			__CLOVER_64_0.cloverRec.S[5814]++;res=false;
		}
		__CLOVER_64_0.cloverRec.S[5815]++;System.out.println("Fin de "+nom);
		__CLOVER_64_0.cloverRec.S[5816]++;System.out.println("----------------------");
		__CLOVER_64_0.cloverRec.S[5817]++;return res;
	}

	public static void test_parser3()
	{__CLOVER_64_0.cloverRec.M[475]++;//"test\\test1.xml","test\\test1-2.e"
		__CLOVER_64_0.cloverRec.S[5818]++;Compiler_Eiffel compiler=new Compiler_Eiffel();
		__CLOVER_64_0.cloverRec.S[5819]++;Classe c=compiler.parse_file("test\\test1-2.e");
		__CLOVER_64_0.cloverRec.S[5820]++;try {
			
			__CLOVER_64_0.cloverRec.S[5821]++;c.toXML(new PrintStream(new FileOutputStream("test\\test0.xml")));
			__CLOVER_64_0.cloverRec.S[5822]++;c.check_egal(c);
			__CLOVER_64_0.cloverRec.S[5823]++;AstXML ast=new AstXML();
			__CLOVER_64_0.cloverRec.S[5824]++;Classe c2=ast.parse("test\\test1.xml");
			__CLOVER_64_0.cloverRec.S[5825]++;c2.check_egal(c2);
			__CLOVER_64_0.cloverRec.S[5826]++;c2.check_egal(c);
			__CLOVER_64_0.cloverRec.S[5827]++;c.check_egal(c2);
			__CLOVER_64_0.cloverRec.S[5828]++;System.out.println("Ok sans probleme");
			
		} catch (FileNotFoundException e) {
			__CLOVER_64_0.cloverRec.S[5829]++;e.printStackTrace();
		}
		//AstXML ast=new AstXML();
		//Classe c2=ast.parse("test\\test1.xml");
		__CLOVER_64_0.cloverRec.S[5830]++;System.out.println("Fini");
	}
	
	public static void test_parser2()
	{__CLOVER_64_0.cloverRec.M[476]++;
		__CLOVER_64_0.cloverRec.S[5831]++;Compiler_Eiffel compiler=new Compiler_Eiffel();
		__CLOVER_64_0.cloverRec.S[5832]++;Classe c=compiler.parse_file("test\\test1.e");
		__CLOVER_64_0.cloverRec.S[5833]++;try {
			
			__CLOVER_64_0.cloverRec.S[5834]++;c.toXML(new PrintStream(new FileOutputStream("test\\test0.xml")));
			__CLOVER_64_0.cloverRec.S[5835]++;c.check_egal(c);
			__CLOVER_64_0.cloverRec.S[5836]++;AstXML ast=new AstXML();
			__CLOVER_64_0.cloverRec.S[5837]++;Classe c2=ast.parse("test\\test0.xml");
			__CLOVER_64_0.cloverRec.S[5838]++;c2.check_egal(c2);
			__CLOVER_64_0.cloverRec.S[5839]++;c2.check_egal(c);
			__CLOVER_64_0.cloverRec.S[5840]++;c.check_egal(c2);
			__CLOVER_64_0.cloverRec.S[5841]++;System.out.println("Ok sans probleme");
			
		} catch (FileNotFoundException e) {
			__CLOVER_64_0.cloverRec.S[5842]++;e.printStackTrace();
		}
		//AstXML ast=new AstXML();
		//Classe c2=ast.parse("test\\test1.xml");
		__CLOVER_64_0.cloverRec.S[5843]++;System.out.println("Fini");
	}

	public static void test_parser()
	{__CLOVER_64_0.cloverRec.M[477]++;
		__CLOVER_64_0.cloverRec.S[5844]++;String classes_correctes[]={"test1.in","test\\test1.e",
			"test\\test2.e","test\\test3.e","test\\test4.e",
			"test\\test5.e"};
		__CLOVER_64_0.cloverRec.S[5845]++;String classes_incorrectes[]={"toto.in"};
		__CLOVER_64_0.cloverRec.S[5846]++;int i;

		__CLOVER_64_0.cloverRec.S[5847]++;for(i=0;(((i<classes_correctes.length) && (++__CLOVER_64_0.cloverRec.CT[1899]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1899]==0&false));i++)
		{{
			__CLOVER_64_0.cloverRec.S[5848]++;if((((!teste_classe(classes_correctes[i])) && (++__CLOVER_64_0.cloverRec.CT[1900]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1900]==0&false)))
				{__CLOVER_64_0.cloverRec.S[5849]++;System.out.println("Erreur avec le fichier "+
						classes_correctes[i]+" *****************************");
		}}

		}__CLOVER_64_0.cloverRec.S[5850]++;for(i=0;(((i<classes_incorrectes.length) && (++__CLOVER_64_0.cloverRec.CT[1901]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1901]==0&false));i++)
		{{
			__CLOVER_64_0.cloverRec.S[5851]++;if((((teste_classe(classes_incorrectes[i])) && (++__CLOVER_64_0.cloverRec.CT[1902]!=0|true)) || (++__CLOVER_64_0.cloverRec.CF[1902]==0&false)))
				{__CLOVER_64_0.cloverRec.S[5852]++;System.out.println("Erreur avec le fichier "+
						classes_incorrectes[i]+" *****************************");
		}}
	}}

	public static void test_complet()
	{__CLOVER_64_0.cloverRec.M[478]++;

		__CLOVER_64_0.cloverRec.S[5853]++;try {
			//if(!test1("ASTDefaut")) return;
			/*CalcLexer lexer = new CalcLexer(new DataInputStream(System.in));
			lexer.setFilename("<stdin>");
			CalcParser parser = new CalcParser(lexer);
			parser.setFilename("<stdin>");
			// Parse the input expression
			parser.expr();
			CommonAST t = (CommonAST)parser.getAST();
			// Print the resulting tree out in LISP notation
			System.out.println(t.toStringTree());
			CalcTreeWalker walker = new CalcTreeWalker();
			// Traverse the tree created by the parser
			float r = walker.expr(t);
			System.out.println("value is "+r);*/
			__CLOVER_64_0.cloverRec.S[5854]++;EiffelLexer lexer = new EiffelLexer(new DataInputStream(System.in));
			__CLOVER_64_0.cloverRec.S[5855]++;lexer.setFilename("<stdin>");
			__CLOVER_64_0.cloverRec.S[5856]++;EiffelParser parser = new EiffelParser(lexer);
			__CLOVER_64_0.cloverRec.S[5857]++;parser.setASTNodeClass("tinyeiffel.compiler.ASTDefaut");
			__CLOVER_64_0.cloverRec.S[5858]++;parser.setFilename("<stdin>");
			__CLOVER_64_0.cloverRec.S[5859]++;parser.lexer=lexer;
			//parser.nom_fichier="<s"
			// Parse the input expression
			__CLOVER_64_0.cloverRec.S[5860]++;Classe c=parser.classe();
/*			System.out.println("Resultat:"+c.nom);
			CommonAST t = (CommonAST)parser.getAST();
			System.out.println("Resultat:");
			System.out.println(t.toStringTree());
			System.out.println("Parcourt de l'arbre:");
			PascalTreeWalker walker = new PascalTreeWalker();
//			walker.programme(t);
			/*System.out.println("Analyse semantique:*******************************");
			PascalCheck check = new PascalCheck();
			check.initialise();
			//t = (CommonAST)parser.getAST();
			check.programme(t);
			System.out.println("table type="+check.getTableType());
			System.out.println("table de symbol="+check.getTableSymbol());
			*/
			//walker.programme_check(t);
//			teste_classe("test\\test3.e");
			__CLOVER_64_0.cloverRec.S[5861]++;test_parser();
			__CLOVER_64_0.cloverRec.S[5862]++;System.out.println("Fin du programme");
		}
		catch(TokenStreamException e) {
			__CLOVER_64_0.cloverRec.S[5863]++;System.err.println("exception: "+e);
		}
		catch(RecognitionException e) {
			__CLOVER_64_0.cloverRec.S[5864]++;System.err.println("exception: "+e);
		}
	}

}